(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Vylh:function(e,t,n){"use strict";n.r(t),n.d(t,"CoverTitleBuilder",(function(){return k}));var r=n("9fIP"),a=n("MMYH"),s=n("pWxA"),i=n("K/z8"),o=n("sRHE"),c=n("8K1b"),l=n("zjfJ"),u=n("yFcC"),p=n.n(u),d=n("ERkP"),m=n.n(d),h=n("YQpL"),b=n("O94r"),y=n.n(b),f=n("e3Gu"),g=n("A7aE"),j=n("+L/X"),O=n("/pJn"),v=n("RNvQ"),x=n.n(v),C=m.a.createElement;function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){Object(c.a)(u,e);var t,n=(t=u,function(){var e,n=Object(o.a)(t);if(P()){var r=Object(o.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i.a)(this,e)});function u(e){var t;return Object(r.a)(this,u),t=n.call(this,e),Object(l.a)(Object(s.a)(t),"targetElement",Object(d.createRef)()),Object(l.a)(Object(s.a)(t),"ghostElement",Object(d.createRef)()),Object(l.a)(Object(s.a)(t),"computeInputDimensions",(function(){var e=t.targetElement.current,n=t.ghostElement.current;e&&n&&(t.props.value?n.textContent=t.props.value:n.textContent=t.props.placeholder,e.style.height="".concat(n.getBoundingClientRect().height-(t.ghostPaddingTop+t.ghostPaddingBottom),"px"),e.style.width="".concat(n.getBoundingClientRect().width-(t.ghostPaddingLeft+t.ghostPaddingRight),"px"))})),Object(l.a)(Object(s.a)(t),"getGhostElementDimensions",(function(){var e=t.ghostElement.current;if(e){var n=window.getComputedStyle(e,null);t.ghostPaddingTop=parseInt(n.getPropertyValue("padding-top"),void 0),t.ghostPaddingBottom=parseInt(n.getPropertyValue("padding-bottom"),void 0),t.ghostPaddingLeft=parseInt(n.getPropertyValue("padding-left"),void 0),t.ghostPaddingRight=parseInt(n.getPropertyValue("padding-right"),void 0)}t.computeInputDimensions()})),t.state={isEmpty:!1,text:e.value},t.handleResizeDebouncedly=x()(t.computeInputDimensions,200),t}return Object(a.a)(u,[{key:"componentDidMount",value:function(){var e=this;this.getGhostElementDimensions(),setTimeout((function(){e.getGhostElementDimensions()}),100),window.addEventListener("resize",this.handleResizeDebouncedly)}},{key:"componentDidUpdate",value:function(e){(e.value!==this.props.value||this.props.storyDesign&&e.storyDesign.storyTheme.themeVariables!==this.props.storyDesign.storyTheme.themeVariables)&&this.computeInputDimensions();var t=this.targetElement.current;t&&(!0===this.props.hasFocus?t.focus():t.blur())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResizeDebouncedly)}},{key:"render",value:function(){var e=y()("resizable-user-input");return C("div",{className:"jsx-2555927845 "+(e||"")},C("textarea",{ref:this.targetElement,maxLength:this.props.maxLength,placeholder:this.props.placeholder,required:this.props.required,defaultValue:this.props.value,onChange:this.props.onTextareaChange,onKeyDown:this.props.onEnterPressed,autoFocus:this.props.hasFocus,onFocus:this.props.onFocus,onBlur:this.props.onBlur,"aria-label":this.props.placeholder,className:"jsx-2555927845 "+(y()(this.props.className,{center:"center"===this.props.alignment})||"")}),C("span",{ref:this.ghostElement,className:"jsx-2555927845 "+(y()("ghost-span-cover",this.props.className)||"")}),C(p.a,{id:"2555927845"},[".resizable-user-input.jsx-2555927845{position:relative;max-width:100%;}","textarea.jsx-2555927845{max-width:100%;}","textarea.center.jsx-2555927845{text-align:center;}","textarea.jsx-2555927845:invalid{box-shadow:none;}","textarea.jsx-2555927845::-webkit-input-placeholder{opacity:1;}","textarea.jsx-2555927845::-moz-placeholder{opacity:1;}","textarea.jsx-2555927845:-ms-input-placeholder{opacity:1;}","textarea.jsx-2555927845::placeholder{opacity:1;}",".ghost-span-cover.jsx-2555927845{position:absolute;top:0;left:0;z-index:0;visibility:hidden;}"]))}}]),u}(d.PureComponent);Object(l.a)(w,"defaultProps",{alignment:"start"});var D,R=Object(h.c)(Object(g.b)(w)),S=n("qhOZ"),E=n("72yd"),F=m.a.createElement;function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}!function(e){e[e.title=0]="title",e[e.byline=1]="byline",e[e.summary=2]="summary"}(D||(D={}));var k=function(e){Object(c.a)(u,e);var t,n=(t=u,function(){var e,n=Object(o.a)(t);if(I()){var r=Object(o.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i.a)(this,e)});function u(e){var t;return Object(r.a)(this,u),t=n.call(this,e),Object(l.a)(Object(s.a)(t),"placeholderRef",Object(d.createRef)()),Object(l.a)(Object(s.a)(t),"rteRef",Object(d.createRef)()),Object(l.a)(Object(s.a)(t),"placeholderStyleInfo",{styles:F(p.a,{id:"2693959074"},[".placeholder-builder.jsx-2693959074{position:relative;z-index:0;pointer-events:none;}"]),className:"jsx-2693959074"}),Object(l.a)(Object(s.a)(t),"renderStoryCoverTitle",(function(){return F(d.Fragment,null,F(R,{className:y()("sc-title",O.c.className,O.d.className),maxLength:E.d,placeholder:t.props.intl.formatMessage({id:"builder.storyCover.title"}),required:!0,value:t.props.title,onTextareaChange:t.handleTitleChange,onEnterPressed:t.handleEnterPress,onFocus:t.titleOnFocus,onBlur:t.onBlur,hasFocus:t.state.activeField===D.title,alignment:t.props.centerText?"center":"start"}),O.c.styles,O.d.styles)})),Object(l.a)(Object(s.a)(t),"renderStoryCoverSummary",(function(){return F(d.Fragment,null,F(R,{className:y()("sc-summary",O.c.className,O.b.className),maxLength:140,placeholder:t.props.intl.formatMessage({id:"builder.storyCover.summary"}),value:t.props.summary,onTextareaChange:t.handleSummaryChange,onEnterPressed:t.handleEnterPress,onFocus:t.summaryOnFocus,onBlur:t.onBlur,hasFocus:t.state.activeField===D.summary,alignment:t.props.centerText?"center":"start"}),O.c.styles,O.b.styles)})),Object(l.a)(Object(s.a)(t),"renderStoryCoverByline",(function(){var e=Object(O.e)(t.props.storyDesign.storyTheme.themeVariables,t.props.textColor),n=e.className,r=e.styles;return F(d.Fragment,null,F(S.a,{modifiedDate:t.props.storyItem.getItemPublishDate(),textColor:t.props.textColor,showPublishedDate:!t.props.isPublishedDateHidden()},t.renderBylineEditor(),!t.props.isPublishedDateHidden()&&F("div",{className:y()("sc-divider",n)},"\xa0")),r,O.a.styles)})),Object(l.a)(Object(s.a)(t),"renderBylineEditor",(function(){return F(d.Fragment,null,F("div",{className:y()("sc-byline-container",{"is-empty":!t.props.byline},O.a.className),onFocus:t.bylineOnFocus,role:"article",onKeyDown:t.handleEnterPress,onBlur:t.onBlur},t.state.isPlaceholderShowing&&F("span",{className:y()("placeholder-builder","byline-text-editor",t.placeholderStyleInfo.className),ref:t.placeholderRef},t.props.intl.formatMessage({id:"builder.storyCover.byline"})),F(f.a,{variant:"plain",initText:t.props.byline,render:t.renderTextEditor,onTextChange:t.handleBylineChange,shouldAutoSelectAll:!1,charLimit:100,shouldDisableEnter:!0,postQuillInit:t.getQuillInstance,shouldCompareInitialContent:!1,selector:".byline-text-editor"})),t.placeholderStyleInfo.styles)})),Object(l.a)(Object(s.a)(t),"getQuillInstance",(function(e){t.quill=e})),Object(l.a)(Object(s.a)(t),"renderTextEditor",(function(e){var n=y()("byline-text-editor","ql-container","ql-bubble",O.f.className,t.state.isPlaceholderShowing&&"editor-empty");return t.rteRef=e,F(d.Fragment,null,F("div",{ref:e,className:"jsx-3599293032 "+(n||"")}),O.f.styles,F(p.a,{id:"3599293032"},[".byline-text-editor.jsx-3599293032{z-index:1;}",".byline-text-editor.ql-container.ql-bubble.editor-empty.jsx-3599293032{display:inline-block;position:absolute;width:100%;height:auto;left:0;top:0;}",".byline-text-editor.ql-container.ql-bubble.jsx-3599293032{position:static;display:inline;}"]))})),Object(l.a)(Object(s.a)(t),"onBylineChange",(function(e){if(t.rteRef.current){if(1===e.length)return void t.setState({isPlaceholderShowing:!0});t.setState({isPlaceholderShowing:!1})}})),Object(l.a)(Object(s.a)(t),"handleTitleChange",(function(e){t.props.updateTitle(e.target.value)})),Object(l.a)(Object(s.a)(t),"handleSummaryChange",(function(e){t.props.updateSummary(e.target.value)})),Object(l.a)(Object(s.a)(t),"handleBylineChange",(function(e){t.onBylineChange(e),t.updateBylineToGemini(e)})),Object(l.a)(Object(s.a)(t),"updateBylineToGemini",(function(e){var n=e.replace(/\n$/,"");t.props.updateByline(n)})),Object(l.a)(Object(s.a)(t),"handleEnterPress",(function(e){"Enter"===e.key&&(e.preventDefault(),t.state.activeField===D.title?t.setState({activeField:D.summary}):t.state.activeField===D.summary?t.setState({activeField:D.byline}):t.state.activeField===D.byline&&t.props.insertTextBlock())})),Object(l.a)(Object(s.a)(t),"titleOnFocus",(function(){t.setState({activeField:D.title})})),Object(l.a)(Object(s.a)(t),"bylineOnFocus",(function(){t.setState({activeField:D.byline}),t.quill&&t.quill.setSelection(t.quill.getText().length)})),Object(l.a)(Object(s.a)(t),"summaryOnFocus",(function(){t.setState({activeField:D.summary})})),Object(l.a)(Object(s.a)(t),"onBlur",(function(){t.setState({activeField:void 0})})),t.state={activeField:D.title,isPlaceholderShowing:!t.props.byline},t}return Object(a.a)(u,[{key:"render",value:function(){return F(d.Fragment,null,this.renderStoryCoverTitle(),this.renderStoryCoverSummary(),this.renderStoryCoverByline(),Object(O.g)(this.props.storyDesign.storyTheme.themeVariables,this.props.textColor,this.props.placeholderColor))}}]),u}(d.PureComponent);Object(l.a)(k,"defaultProps",{centerText:!1});t.default=Object(h.c)(Object(j.b)(Object(g.b)(k)))},mY2J:function(e,t,n){"use strict";var r=n("9fIP"),a=n("MMYH"),s=n("pWxA"),i=n("K/z8"),o=n("sRHE"),c=n("8K1b"),l=n("zjfJ"),u=n("ERkP"),p=n.n(u),d=n("Lf33"),m=n("tSRP"),h=n("686e"),b=p.a.createElement;function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var f=function(e){Object(c.a)(p,e);var t,n=(t=p,function(){var e,n=Object(o.a)(t);if(y()){var r=Object(o.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i.a)(this,e)});function p(e){var t;return Object(r.a)(this,p),t=n.call(this,e),Object(l.a)(Object(s.a)(t),"renderPopper",(function(){return b("div",{ref:t.dropdownNode},b(d.a,null,b(h.a,{items:t.props.items,pendingItem:t.state.pendingItem,source:t.props.source,mediaPickerUI:"dropdownMenuItem",onItemExpanded:t.onItemExpanded,onItemCollapsed:t.onItemCollapsed,isUploadByLinkDisabled:t.props.isUploadByLinkDisabled})))})),Object(l.a)(Object(s.a)(t),"openDropdown",(function(){t.setState({isDropdownShowing:!0})})),Object(l.a)(Object(s.a)(t),"closeDropdown",(function(){t.setState({isDropdownShowing:!1})})),Object(l.a)(Object(s.a)(t),"onItemCollapsed",(function(e){e&&e===t.state.pendingItem&&t.setState({pendingItem:null}),t.closeDropdown()})),Object(l.a)(Object(s.a)(t),"onItemExpanded",(function(e){t.setState({pendingItem:e})})),t.state={pendingItem:null,isDropdownShowing:!1},t.dropdownNode=Object(u.createRef)(),t}return Object(a.a)(p,[{key:"render",value:function(){return b(m.a,{target:b("div",null,this.props.renderTarget(this.openDropdown)),popper:this.renderPopper(),placement:this.props.placement})}}]),p}(u.PureComponent);Object(l.a)(f,"defaultProps",{placement:"bottom"}),t.a=f},rwbS:function(e,t,n){"use strict";n.r(t),n.d(t,"MediaPanelBuilder",(function(){return D}));var r=n("9fIP"),a=n("MMYH"),s=n("pWxA"),i=n("K/z8"),o=n("sRHE"),c=n("8K1b"),l=n("zjfJ"),u=n("yFcC"),p=n.n(u),d=n("ERkP"),m=n.n(d),h=n("O94r"),b=n.n(h),y=n("2SGB"),f=n("YQpL"),g=n("mY2J"),j=n("lMwr"),O=n("cCzZ"),v=n("wWnZ"),x=n("33+R"),C=n("NX3A"),P=m.a.createElement;function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var D=function(e){Object(c.a)(u,e);var t,n=(t=u,function(){var e,n=Object(o.a)(t);if(w()){var r=Object(o.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i.a)(this,e)});function u(){var e;Object(r.a)(this,u);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),Object(l.a)(Object(s.a)(e),"renderTarget",(function(e){return P(v.a,{type:"full",color:"light",onClick:e,icon:P(x.a,{height:C.a.spacing.xxs,width:"auto"}),iconPosition:"end"},P(y.a,{id:"builder.tour.addMedia"}))})),e}return Object(a.a)(u,[{key:"render",value:function(){var e=this.props.menuItems.length>2;return P(d.Fragment,null,0===d.Children.count(this.props.children)&&P("div",{className:p.a.dynamic([["4050974159",[C.a.spacing.xs]]])+" "+(b()("media-picker-menu-container",this.props.className,{background:this.props.showAsBackground,dropdown:e})||"")},e?P(g.a,{items:this.props.menuItems,renderTarget:this.renderTarget,source:this.props.source,placement:"bottom-start",isUploadByLinkDisabled:this.props.isUploadByLinkDisabled}):P(j.a,{items:this.props.menuItems,source:this.props.source,isUploadByLinkDisabled:this.props.isUploadByLinkDisabled})),P(O.default,this.props,this.props.children),P(p.a,{id:"4050974159",dynamic:[C.a.spacing.xs]},[".media-picker-menu-container.__jsx-style-dynamic-selector{z-index:2;}",".media-picker-menu-container.__jsx-style-dynamic-selector:not(.background){position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".media-picker-menu-container.dropdown.__jsx-style-dynamic-selector{-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);top:".concat(C.a.spacing.xs,";}"),".media-picker-menu-container.background.__jsx-style-dynamic-selector{position:relative;}"]))}}]),u}(d.PureComponent);t.default=Object(f.c)(D)},yzIi:function(e,t,n){"use strict";n.r(t),n.d(t,"CoverTitleViewer",(function(){return P}));var r=n("9fIP"),a=n("MMYH"),s=n("pWxA"),i=n("K/z8"),o=n("sRHE"),c=n("8K1b"),l=n("zjfJ"),u=n("yFcC"),p=n.n(u),d=n("ERkP"),m=n.n(d),h=n("YQpL"),b=n("O94r"),y=n.n(b),f=n("NX3A"),g=n("+L/X"),j=n("A7aE"),O=n("/pJn"),v=n("qhOZ"),x=m.a.createElement;function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){Object(c.a)(u,e);var t,n=(t=u,function(){var e,n=Object(o.a)(t);if(C()){var r=Object(o.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i.a)(this,e)});function u(e){var t;return Object(r.a)(this,u),t=n.call(this,e),Object(l.a)(Object(s.a)(t),"renderStoryCoverTitle",(function(){return x(d.Fragment,null,x("h1",{className:p.a.dynamic([["568576847",[f.a.spacing.xxxs]]])+" "+(y()("sc-title",O.d.className)||"")},t.props.title),x(p.a,{id:"568576847",dynamic:[f.a.spacing.xxxs]},[".sc-title.__jsx-style-dynamic-selector{padding:".concat(f.a.spacing.xxxs," 0;}")]),O.d.styles)})),Object(l.a)(Object(s.a)(t),"renderStoryCoverSummary",(function(){return x(d.Fragment,null,x("p",{className:p.a.dynamic([["3615661773",[f.a.spacing.xxxs]]])+" "+(y()("sc-summary",O.b.className)||"")},t.props.summary),x(p.a,{id:"3615661773",dynamic:[f.a.spacing.xxxs]},[".sc-summary.__jsx-style-dynamic-selector{padding:".concat(f.a.spacing.xxxs," 0;}")]),O.b.styles)})),Object(l.a)(Object(s.a)(t),"renderStoryCoverByline",(function(){var e=t.props.storyItem?t.props.storyItem.getItemPublishDate():new Date(0),n=Object(O.e)(t.props.storyDesign.storyTheme.themeVariables,t.props.textColor),r=n.className,a=n.styles;return x(d.Fragment,null,x(v.a,{modifiedDate:e,textColor:t.props.textColor,showPublishedDate:!t.props.isPublishedDateHidden()},t.props.byline&&x("div",{className:"jsx-439490275 "+(y()("sc-byline-container ",O.a.className)||"")},x("p",{className:"jsx-439490275 sc-viewer-byline"},t.props.byline),!t.props.isPublishedDateHidden()&&x("div",{className:"jsx-439490275 "+(y()("sc-divider",r)||"")}))),x(p.a,{id:"439490275"},[".sc-viewer-byline.jsx-439490275{display:inline;position:relative;margin:0;white-space:pre-wrap;}"]),a,O.a.styles)})),t}return Object(a.a)(u,[{key:"render",value:function(){return x(d.Fragment,null,this.props.title&&this.renderStoryCoverTitle(),this.props.summary&&this.renderStoryCoverSummary(),this.renderStoryCoverByline(),Object(O.g)(this.props.storyDesign.storyTheme.themeVariables,this.props.textColor))}}]),u}(d.PureComponent);t.default=Object(h.c)(Object(g.b)(Object(j.b)(P)))}}]);