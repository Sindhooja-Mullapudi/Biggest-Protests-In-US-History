(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{Gqyw:function(t,e,n){"use strict";n.r(e),n.d(e,"Text",(function(){return F}));var r=n("VtSi"),a=n.n(r),s=n("9fIP"),i=n("MMYH"),o=n("pWxA"),c=n("PRnZ"),u=n("K/z8"),l=n("sRHE"),p=n("8K1b"),d=n("zjfJ"),h=n("ERkP"),f=n.n(h),x=n("Abkm"),g=n("mvvZ"),b=n("NX3A"),y=n("h0mi"),I=n("O8Oa"),m=n("5IE6"),v=n("nmTH"),T=n("EJc+");function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var w=function(t){Object(p.a)(o,t);var e,r=(e=o,function(){var t,n=Object(l.a)(e);if(P()){var r=Object(l.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u.a)(this,t)});function o(t){return Object(s.a)(this,o),r.call(this,t)}return Object(i.a)(o,[{key:"getBlockComponent",value:function(){return f.a.lazy((function(){return n.e(117).then(n.bind(null,"6Yp7"))}))}},{key:"getLayoutComponent",value:function(){}},{key:"getViewerProps",value:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{shouldShow:this.states.shouldShow,children:this.states.ui});case 1:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"getBuilderProps",value:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E,t.t1={},t.next=4,a.a.awrap(this.getViewerProps());case 4:return t.t2=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"getLayoutProps",value:function(){}}]),o}(I.a);Object(d.a)(w,"type","inlineInserter"),Object(d.a)(w,"getInstance",(function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new w(Object(I.b)(t,w.type)));case 1:case"end":return e.stop()}}),null,null,null,Promise)}));var j=n("sHW7"),B=n("ClPg"),k=function(t,e){return new j.Sanitizer({whiteList:e,stripIgnoreTag:!0,allowCommentTag:!1},!1).sanitize(t)},S=function(t,e,n){var r=e===B.b.TYPE.BULLET_LIST||e===B.b.TYPE.NUMBERED_LIST,a=e===B.b.TYPE.QUOTE,s=e===B.b.TYPE.H1||e===B.b.TYPE.H2,i=e===B.b.TYPE.PARAGRAPH,o=n===B.b.TYPE.BULLET_LIST||n===B.b.TYPE.NUMBERED_LIST,c=n===B.b.TYPE.H1||n===B.b.TYPE.H2,u=n===B.b.TYPE.QUOTE,l=n===B.b.TYPE.PARAGRAPH,p=[],d=[];a?p.push(k(t,B.a.NONE)):r?p=t.split(/<\/?li>/gi).filter((function(t){return t.trim().length>0})):p.push(t);var h=B.a.NONE;return c?(s&&(h=B.a.ITALIC),p.forEach((function(t){d.push(k(t,h))}))):o?((i||r)&&(h=B.a.ALL),p.forEach((function(t){var e=k(t,h);d.push("<li>".concat(e,"</li>"))}))):u?p.forEach((function(t){var e=k(t,h);d.push("<em>".concat(e,"</em>"))})):l&&((i||r)&&(h=B.a.ALL),p.forEach((function(t){d.push(k(t,h))}))),d},L=n("02jS");function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var F=function(t){Object(p.a)(h,t);var e,r=(e=h,function(){var t,n=Object(l.a)(e);if(R()){var r=Object(l.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u.a)(this,t)});function h(t){var e;return Object(s.a)(this,h),e=r.call(this,t),Object(d.a)(Object(o.a)(e),"shouldShowBetweenInserter",(function(){if(e.states.disableBetweenInserter||0===e.data.text.trim().length||!e.parent)return!1;var t=e.getIndex(),n=e.parent.childrenNodes[e.parent.childrenIds[t+1]];return!n||"text"!==n.type||!n.data||n.data.text.trim().length>0})),Object(d.a)(Object(o.a)(e),"isTextEmpty",(function(){return 0===e.data.text.replace(/(<([^>]+)>)/gi,"").trimRight().length})),Object(d.a)(Object(o.a)(e),"insertTextBlock",(function(t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.parent){s.next=12;break}if(!e.states.convertExtraBlockOnEmptyEnter||!e.isTextEmpty()){s.next=7;break}return e.states.convertExtraBlockOnEmptyEnter=!1,s.next=5,a.a.awrap(e.convertExtraBlockToBlock());case 5:return s.next=7,a.a.awrap(e.update({skipSave:!0}));case 7:return!(n=!(!e.hasFocus&&!0!==t.insertFromInserterOnTextEnter)||!e.isExtra)&&e.isExtra&&(e.parent.states.shouldInserterGetFocus=!0),r=t.index?t.index:e.isExtra?"function"===typeof e.states.getInserterIndex?e.states.getInserterIndex():e.parent.childrenIds.length:e.getIndex()+1,s.next=12,a.a.awrap(e.insertBlock({mode:y.a.Builder,type:"text",parent:e.parent,index:r,data:{text:t.text,type:t.type},states:{cursorIndex:t.cursorIndex,hasFocus:n}}));case 12:case"end":return s.stop()}}),null,null,null,Promise)})),Object(d.a)(Object(o.a)(e),"getInlineInserterUI",(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.inlineInserter){t.next=5;break}return t.next=3,a.a.awrap(w.getInstance({mode:e.mode,type:"inlineInserter"}));case 3:e.inlineInserter=t.sent,e.inlineInserter.states.shouldShow=!1;case 5:return!e.states.dynamicInserterItem&&e.inlineInserter.states.ui||(e.inlineInserter.states.ui=Object(m.c)("".concat(e.id,"-").concat(e.getIndex().toString(),"-inserter"),f.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"nv0H"))})),e.getInlineInserterProps())),t.next=8,a.a.awrap(e.inlineInserter.render());case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),null,null,null,Promise)})),Object(d.a)(Object(o.a)(e),"getTextLength",(function(){var t=Object(x.g)(e.data.text).replace(/&nbsp;/g," ").length;if("bullet-list"===e.data.type||"numbered-list"===e.data.type){var n=e.data.text.match(/<li[^>]*>(.*?)<\/li>/g);n&&(t+=n.length-1)}return t})),Object(d.a)(Object(o.a)(e),"convertExtraBlockToBlock",(function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.parent){t.next=2;break}return t.abrupt("return");case 2:return e.states.isExtra=!1,e.parent.upsertChild(Object(o.a)(e),"function"===typeof e.states.getInserterIndex?e.states.getInserterIndex():void 0),t.next=6,a.a.awrap(e.parent.update());case 6:case"end":return t.stop()}}),null,null,null,Promise)})),Object(d.a)(Object(o.a)(e),"onContainerClicked",(function(t){t.currentTarget&&!t.currentTarget.contains(document.activeElement)&&e.do("focus")})),Object(v.a)(Object(o.a)(e),{isOnce:!1,shouldPreload:!1,marginType:"small",wait:200}),e.states=C({disableBetweenInserter:!1,disableInlineInserter:!1,disableToolbar:!1,disableToolbarConversionOptions:!1,disableSplitByEnter:!1,disableBlockDeletion:!1,disableParagraphInsertionByEnter:!1,shouldForceInitialType:!1},e.states),e.addEventListener("getTextEditor",(function(){return e.quill})),e.addEventListener("getTextType",(function(){return e.data.type})),e.addEventListener("getTextLength",(function(){return e.getTextLength()})),e.addEventListener("focus",(function(){e.quill&&e.quill.focus()})),e}return Object(i.a)(h,[{key:"getBlockComponent",value:function(){return this.mode===y.a.Viewer?f.a.lazy((function(){return Promise.all([n.e(0),n.e(67)]).then(n.bind(null,"vEi1"))})):f.a.lazy((function(){return Promise.all([n.e(2),n.e(0),n.e(58)]).then(n.bind(null,"Wczt"))}))}},{key:"getLayoutProps",value:function(t){var e;return e="h2"===this.data.type?{spacingTop:b.a.spacing.xl,spacingBottom:b.a.spacing.xxs,spacingTopSm:b.a.spacing.lg,spacingBottomSm:b.a.spacing.xxxs}:"h3"===this.data.type?{spacingTop:b.a.spacing.sm,spacingBottom:b.a.spacing.xxs,spacingTopSm:b.a.spacing.xs,spacingBottomSm:b.a.spacing.xxxs}:"h4"===this.data.type?{spacingTop:"0rem",spacingBottom:b.a.spacing.xxxs}:"quote"===this.data.type?{spacingTop:b.a.spacing.sm,spacingBottom:b.a.spacing.sm,spacingTopMd:b.a.spacing.lg,spacingBottomMd:b.a.spacing.lg,spacingTopLg:b.a.spacing.xl,spacingBottomLg:b.a.spacing.xl}:{spacingTop:b.a.spacing.xxs,spacingBottom:b.a.spacing.sm,spacingTopSm:b.a.spacing.xxxs,spacingBottomSm:b.a.spacing.xs},t&&("top"===t?e.spacingTop="0rem":e.spacingBottom="0rem"),C({},Object(c.a)(Object(l.a)(h.prototype),"getLayoutProps",this).call(this),{},e,{postInserterProps:this.states.disableBetweenInserter?void 0:this.getBetweenInserterProps(),preInserterProps:this.states.disableBetweenInserter?void 0:this.getBetweenInserterProps(!0),hasOwnBlockFormattingContext:0===this.data.text.length&&this.states.isInFloat,canBreakOverPrintPage:!0,onClick:this.mode===y.a.Builder?this.onContainerClicked:void 0,cursorType:this.mode===y.a.Builder?"text":void 0})}},{key:"getViewerProps",value:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",C({},this.data,{mode:this.mode,displaySize:this.states.displaySize}));case 1:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"getBuilderProps",value:function(){var t=this;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.t1={},e.next=4,a.a.awrap(this.getViewerProps());case 4:return e.t2=e.sent,e.next=7,a.a.awrap(this.getInlineInserterUI());case 7:return e.t3=e.sent,e.t4=this.isExtra,e.t5=this.states.observer.observe.bind(this,this),e.t6=this.states.observer.isIntersecting||this.hasFocus,e.t7=this.states.observer.onLoad.bind(this,this),e.t8=this.id,e.t9=this.states.disableToolbar,e.t10=this.states.disableToolbarConversionOptions,e.t11=this.states.disableSplitByEnter,e.t12=this.states.disableParagraphInsertionByEnter,e.t13=function(){if(!t.parent)return!1;var e=t.getIndex(),n=t.parent.childrenIds[e+1],r=t.parent.childrenNodes[n];if(!r||"text"!==r.type)return!1;var a=r.do("getTextEditor");return a?a.setSelection(0):(r.states.cursorIndex=0,r.states.hasFocus=!0,r.isDirty=!0,r.update({skipSave:!0})),!0},e.t14=function(e){t.quill=e},e.t15=this.hasFocus,e.t16=function(e){t.hasFocus=e},e.t17=this.cursorIndex,e.t18=function(e){t.cursorIndex=e},e.t19=function(e){var n,r,s,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=e.split(/<\/?p>/gi),"bullet-list"!==t.data.type&&"numbered-list"!==t.data.type&&1!==n.length){o.next=18;break}if((r=t.data.text)!==e){o.next=5;break}return o.abrupt("return");case 5:if(t.data.text=e,r.length===e.length||0!==r.length&&0!==e.length){o.next=9;break}return o.next=9,a.a.awrap(t.update({target:"layout",skipSave:!0}));case 9:if(!t.inlineInserter){o.next=13;break}return t.inlineInserter.states.shouldShow=!t.states.disableInlineInserter&&0===e.length,o.next=13,a.a.awrap(t.inlineInserter.update());case 13:return o.next=15,a.a.awrap(t.update());case 15:r.length!==e.length&&t.parent&&t.parent.do("onTextLengthUpdated"),o.next=22;break;case 18:s=n.filter((function(t){return t.trim().length>0})),i=t.getIndex(),s.forEach((function(e){t.insertTextBlock({text:e.replace(/<[^/>]+>[ \n\r\t]*<\/[^>]+>/gim,""),type:"paragraph",index:i++})})),t.remove();case 22:case"end":return o.stop()}}),null,null,null,Promise)},e.t20=function(e){var n,r,s,i,o,c,u,l=arguments;return a.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(n=!(l.length>1&&void 0!==l[1])||l[1],r=t.data.type,s=e,t.data.type=s,n){p.next=6;break}return p.abrupt("return");case 6:if(!(r===B.b.TYPE.BULLET_LIST&&s!==B.b.TYPE.NUMBERED_LIST||r===B.b.TYPE.NUMBERED_LIST&&s!==B.b.TYPE.BULLET_LIST)){p.next=15;break}return i=t.data.text.split(/<\/?li>/gi),o=i.filter((function(t){return t.trim().length>0})),c=t.getIndex(),p.next=12,a.a.awrap(Object(g.b)(o,(function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:S(e,r,s).forEach((function(e){t.insertTextBlock({text:e.replace(/<[^/>]+>[ \n\r\t]*<\/[^>]+>/gim,""),type:s,index:c++})}));case 2:case"end":return n.stop()}}),null,null,null,Promise)})));case 12:t.remove(),p.next=18;break;case 15:u=S(t.data.text,r,s),t.data.text=u.join(""),t.updateBlockComponent();case 18:case"end":return p.stop()}}),null,null,null,Promise)},e.t21=this.states.shouldForceInitialType,e.t22=function(e){t.insertTextBlock(e)},e.t23=function(e){if(t.parent&&!t.states.disableBlockDeletion){var n=t.id,r=t.getIndex();if("Delete"===e){if(r>=t.parent.childrenIds.length-1&&!t.isTextEmpty())return;var a=t.parent.childrenIds[r+1],s=t.parent.childrenNodes[a];if(s&&"text"!==s.type&&!t.isTextEmpty())return;if(s&&"text"===s.type){var i=s.data;if(!t.isTextEmpty()&&i.type!==t.data.type)return;if(t.isTextEmpty()){var o=s.do("getTextEditor");o?o.setSelection(0):(s.states.cursorIndex=0,s.states.hasFocus=!0,s.isDirty=!0)}if(i.type===t.data.type){n=s.id;var c=t.data.text.replace(/(<([^>]+)>)/gi,"").replace(/&nbsp;/g," ");t.cursorIndex=c.length,t.data.text+=i.text;var u=t.do("getTextEditor");u?(u.clipboard.dangerouslyPasteHTML(Object(L.a)(t.data.type,t.data.text)),u.setSelection(t.cursorIndex)):(t.hasFocus=!0,t.isDirty=!0)}}}else if("Backspace"===e){if(0===r&&!t.isTextEmpty())return;var l=t.parent.childrenIds[r-1],p=t.parent.childrenNodes[l];if(p&&"text"!==p.type&&!t.isTextEmpty())return;if(p&&"text"===p.type){var d=p.data;if(!t.isTextEmpty()&&d.type!==t.data.type)return;var h=p.do("getTextEditor"),f=p.do("getTextLength");d.type===t.data.type&&(d.text+=t.data.text),h?(h.clipboard.dangerouslyPasteHTML(Object(L.a)(d.type,d.text)),h.setSelection(f)):p.isDirty=!0,p.states.cursorIndex=f,p.states.hasFocus=!0}}else n=t.id;n&&t.remove({id:n})}},e.t24=this.convertExtraBlockToBlock,e.t25=Object(g.c)((function(e){t.states.disableInlineInserter||(t.inlineInserter.states.shouldShow=e,t.inlineInserter.update())}),1),e.t26=this.states.getInsertHintType,e.t27=this.states.showInlineInserter,e.t28=this.states.placeholderTextId,e.t29=function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.data.customTextColors=e,n.next=3,a.a.awrap(t.update());case 3:case"end":return n.stop()}}),null,null,null,Promise)},e.t30={children:e.t3,isInserterMode:e.t4,observe:e.t5,isIntersecting:e.t6,forceIntersect:e.t7,blockId:e.t8,disableToolbar:e.t9,disableToolbarConversionOptions:e.t10,disableSplitByEnter:e.t11,disableParagraphInsertionByEnter:e.t12,goToNextTextBlock:e.t13,setQuill:e.t14,hasFocus:e.t15,setFocus:e.t16,cursorIndex:e.t17,setCursorIndex:e.t18,updateText:e.t19,updateType:e.t20,shouldForceInitialType:e.t21,insertTextBlock:e.t22,delete:e.t23,convertExtraBlockToBlock:e.t24,toggleInlineInserter:e.t25,getInsertHintType:e.t26,showInlineInserter:e.t27,placeholderTextId:e.t28,updateCustomTextColor:e.t29},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t30));case 36:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"getInlineInserterProps",value:function(){var t=this;if(this.mode!==y.a.Viewer&&!this.states.disableInlineInserter&&this.hasParent())return C({},Object(T.b)({inserterMode:"inline",details:{index:function(){var e=t.getIndex();return t.isExtra&&"function"===typeof t.states.getInserterIndex&&(e=t.states.getInserterIndex()),0!==t.data.text.length?t.update():t.parent&&t.parent.removeChildById(t.id),e},parent:this.parent,inserterItems:this.getInserterItems()}}),{viewportOffsetBottom:this.states.viewportOffsetBottom})}},{key:"hasFocus",get:function(){return this.states.hasFocus||!1},set:function(t){this.states.hasFocus=t}},{key:"isExtra",get:function(){return this.states.isExtra||!1},set:function(t){this.states.isExtra=t}},{key:"cursorIndex",get:function(){return this.states.cursorIndex},set:function(t){this.states.cursorIndex=t}}]),h}(I.a);Object(d.a)(F,"type","text"),Object(d.a)(F,"getInstance",(function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new F(Object(I.b)(t,F.type)));case 1:case"end":return e.stop()}}),null,null,null,Promise)}));e.default=F}}]);