(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{Dijc:function(t,e,r){"use strict";r.r(e),r.d(e,"StoryCover",(function(){return B}));var n=r("VtSi"),a=r.n(n),i=r("9fIP"),o=r("MMYH"),s=r("pWxA"),c=r("PRnZ"),u=r("K/z8"),l=r("sRHE"),d=r("8K1b"),y=r("zjfJ"),p=r("ERkP"),f=r.n(p),h=r("NX3A"),m=r("1PWK"),b=r("h0mi"),v=r("O8Oa"),g=r("EJc+"),O=r("2WDw"),P=r("yFcC"),j=r.n(P),w=r("V+ka"),k=f.a.createElement,S=Object(w.b)((function(t){return k("div",{className:j.a.dynamic([["154728105",[t.appOffset.top]]])+" loader"},k(j.a,{id:"154728105",dynamic:[t.appOffset.top]},[".loader.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;min-height:80rem;height:calc(100vh - ".concat(t.appOffset.top,");}")]))}));function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){Object(y.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var B=function(t){Object(d.a)(p,t);var e,n=(e=p,function(){var t,r=Object(l.a)(e);if(C()){var n=Object(l.a)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return Object(u.a)(this,t)});function p(t){var e;return Object(i.a)(this,p),e=n.call(this,t),Object(y.a)(Object(s.a)(e),"setStoryTitle",(function(t){e.data.title=t,e.root().emit("story-title-update",t),e.update()})),Object(y.a)(Object(s.a)(e),"setStorySummary",(function(t){e.data.summary=t,e.update()})),Object(y.a)(Object(s.a)(e),"setStoryByline",(function(t){e.data.byline=t,e.update()})),Object(y.a)(Object(s.a)(e),"shouldShowBetweenInserter",(function(){return e.root().do("getIsNavigationHidden")})),Object(y.a)(Object(s.a)(e),"getStoryThumbnailImage",(function(){var t=e.getChildrenBlocks()[0];if(t&&"image"===t.type){var r=t.do("getMediaId");if(r)return r}})),Object(y.a)(Object(s.a)(e),"getAltText",(function(){var t=e.getChildrenBlocks()[0];if(t&&"image"===t.type){var r=t.do("getAltText");if(r)return r}})),e.hasParent()&&(e.root().addEventListener("setCoverType",(function(t){t!==e.data.type&&(e.data.type=t,e.updateBlockComponent())})),e.root().addEventListener("getCoverType",(function(){return e.data.type})),e.root().addEventListener("getCoverTitle",(function(){return e.getStoryTitle()})),e.root().addEventListener("getCoverSummary",(function(){return e.getStorySummary()})),e.root().addEventListener("getCoverByline",(function(){return e.getStoryByline()})),e.root().addEventListener("setCoverTitle",(function(t){e.setStoryTitle(t)})),e.root().addEventListener("setCoverSummary",(function(t){e.setStorySummary(t)})),e.root().addEventListener("setCoverByline",(function(t){e.setStoryByline(t)})),e.root().addEventListener("getCoverData",(function(){return{title:e.getStoryTitle(),alt:e.getAltText(),snippet:e.getStorySummary(),byline:e.getStoryByline(),imageResourceId:e.getStoryThumbnailImage()}}))),e}return Object(o.a)(p,[{key:"getInserterItems",value:function(t){var e=[],r=Object(O.b)();if(t)e.push(r);else{var n=this.getGlobalState("featureDecisions");e=Object(O.c)(n)}return e}},{key:"getMediaPanelInserterItems",value:function(){return Object(g.a)({index:this.getIndex(),parent:this,inserterItems:this.getInserterItems(!0)})}},{key:"getBlockComponent",value:function(){var t=this;return this.mode===b.a.Viewer?f.a.lazy((function(){return r("UKKU")("./".concat(t.data.type,"/viewer"))})):f.a.lazy((function(){return r("JRuZ")("./".concat(t.data.type,"/builder"))}))}},{key:"getLoaderComponent",value:function(){return S}},{key:"getStoryTitle",value:function(){return this.data.title}},{key:"getStorySummary",value:function(){return this.data.summary}},{key:"getStoryByline",value:function(){return this.data.byline}},{key:"getViewerProps",value:function(){var t=this;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.id,e.t1=this.data.title,e.t2=this.data.summary,e.t3=this.data.byline,e.t4=this.data.titlePanelPosition,e.t5=function(){return t.root().do("isPublishedDateHidden")},e.next=8,a.a.awrap(this.getChildrenUI());case 8:return e.t6=e.sent,e.abrupt("return",{blockId:e.t0,title:e.t1,summary:e.t2,byline:e.t3,titlePanelPosition:e.t4,isPublishedDateHidden:e.t5,children:e.t6});case 10:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"getBuilderProps",value:function(){var t=this;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.t1={},e.next=4,a.a.awrap(this.getViewerProps());case 4:return e.t2=e.sent,e.t3={updateTitle:this.setStoryTitle,updateSummary:this.setStorySummary,updateByline:this.setStoryByline,insertTextBlock:function(){t.hasParent()&&t.insertBlock({type:"text",mode:b.a.Builder,parent:t.parent,index:t.getIndex()+1,data:{text:"",type:"paragraph"},states:{hasFocus:!0}})},updatePosition:function(){var e="end"===t.data.titlePanelPosition?"start":"end";t.data.titlePanelPosition=e,t.update()},blockItems:this.getMediaPanelInserterItems()},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"getLayoutProps",value:function(){return I({},Object(c.a)(Object(l.a)(p.prototype),"getLayoutProps",this).call(this),{size:"full",spacingBottom:"minimal"===this.data.type?"4.8rem":h.a.spacing.sm,postInserterProps:this.getBetweenInserterProps(),className:"drag-sentinel",layoutType:"minimal"})}},{key:"onNodeAssembled",value:function(){var t,e,r,n,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=this.getGlobalState("storyData")){o.next=3;break}return o.abrupt("return");case 3:if(!this.hasChild()||1!==this.childrenIds.length||0!==Object.keys(this.childrenNodes).length){o.next=14;break}if((e=t.nodes[this.childrenIds[0]])&&"side-cover-media-panel"===e.type&&e.data&&e.data.children&&1===e.data.children.length){o.next=7;break}return o.abrupt("return");case 7:return r=e.data.children[0],this.childrenIds=[r],n=t.nodes[r],o.next=12,a.a.awrap(this.insertBlock({mode:this.mode,type:n.type,childrenIds:n.children,data:n.data,id:r,parent:this},!1));case 12:(i=o.sent)&&(this.childrenNodes[r]=i);case 14:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"getChildrenBlocks",value:function(){var t=Object(c.a)(Object(l.a)(p.prototype),"getChildrenBlocks",this).call(this),e=t[0];return e&&(e.states.isCropped=!0,e.states.hasLayout=!1,e.states.showCaption=!1,e.states.showFullToolbar=!1,e.states.fillParent=!0,e.states.isPlayingBackgroundVideo=!0,e.states.hasLoadingIndicator=!0,e.states.placeholderThemeOverrideId="full"===this.data.type?m.a.dark:void 0,e.states.showFullScreenPlacementPreview=!0,e.states.canFit=!1,e.states.isShowingVideoPlayerControls=!1,e.states.isExpandableMedia=!1),t}}]),p}(v.a);Object(y.a)(B,"type","storycover"),Object(y.a)(B,"getInstance",(function(t){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(e=t.data).type||(e.type="minimal"),e.titlePanelPosition||(e.titlePanelPosition="start"),t.data=e,r.abrupt("return",new B(Object(v.b)(t,B.type)));case 5:case"end":return r.stop()}}),null,null,null,Promise)}));e.default=B},JRuZ:function(t,e,r){var n={"./components/CoverTitle/builder":["Vylh",2,0,7,61],"./full/builder":["2VZz",2,0,1,7,108],"./minimal/builder":["m1WQ",2,0,1,7,110],"./sidebyside/builder":["lWfm",2,0,1,7,112]};function a(t){if(!r.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],a=e[0];return Promise.all(e.slice(1).map(r.e)).then((function(){return r(a)}))}a.keys=function(){return Object.keys(n)},a.id="JRuZ",t.exports=a},UKKU:function(t,e,r){var n={"./components/CoverTitle/viewer":["yzIi",0,7,66],"./full/viewer":["Zspj",0,1,7,109],"./minimal/viewer":["6sZ0",0,1,7,111],"./sidebyside/viewer":["8wPD",0,1,7,113]};function a(t){if(!r.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],a=e[0];return Promise.all(e.slice(1).map(r.e)).then((function(){return r(a)}))}a.keys=function(){return Object.keys(n)},a.id="UKKU",t.exports=a}}]);