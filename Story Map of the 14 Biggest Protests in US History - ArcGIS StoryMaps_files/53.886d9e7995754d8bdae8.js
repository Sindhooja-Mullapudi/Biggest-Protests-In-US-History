(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{IXx0:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("9fIP"),a=n("zjfJ"),o=n("VtSi"),i=n.n(o),s=n("k5Cm"),l=n("WXRn"),c=n("UTGL"),u=function(e,t){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:"undefined"!==typeof document&&("start"===t.type?document.body.classList.add("user-is-dragging"):"end"!==t.type&&"unchoose"!==t.type&&"update"!==t.type||document.body.classList.remove("user-is-dragging")),n.t0=t.type,n.next="update"===n.t0?4:"end"===n.t0?4:"start"===n.t0?7:10;break;case 4:return n.next=6,i.a.awrap(p.handleUpdate(e,t));case 6:return n.abrupt("break",11);case 7:return n.next=9,i.a.awrap(p.handleStart(e,t));case 9:case 10:return n.abrupt("break",11);case 11:case"end":return n.stop()}}),null,null,null,Promise)},d=function(e){if(e.id)return new s.a(e.element,{group:{name:e.id,put:"undefined"===typeof e.groupsToDropFrom||0!==e.groupsToDropFrom.length&&e.groupsToDropFrom},swapThreshold:.65,invertSwap:"boolean"===typeof e.shouldUseInvertedSwapZones&&e.shouldUseInvertedSwapZones,sort:"boolean"!==typeof e.canSortWithinGroup||e.canSortWithinGroup,forceFallback:"boolean"!==typeof e.setForceFallback||e.setForceFallback,delay:100,delayOnTouchOnly:!0,ghostClass:e.ghostClass,dragClass:e.dragClass,draggable:e.draggableItemSelector,handle:e.handleSelector,filter:e.filteredItemSelector,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",setData:function(t,n){return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.setData("text/plain",""),"function"!==typeof e.setDataHandler){r.next=4;break}return r.next=4,i.a.awrap(e.setDataHandler(t,n));case 4:case"end":return r.stop()}}),null,null,null,Promise)},onStart:e.handler,onUpdate:e.handler,onEnd:e.handler,onChoose:e.handler,onUnchoose:e.handler,onMove:e.onMoveHandler,onChange:e.handler})},p=function e(){Object(r.a)(this,e)};Object(a.a)(p,"handleStart",(function(e,t){var n,r,a,o,s,l;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=document.querySelector(".dnd-drag-block"),r=t.item.dataset.blockid,a=t.from.dataset.blockid,r&&n&&a){c.next=5;break}return c.abrupt("return");case 5:if(o=e.getNodeById(r),s=e.getNodeById(a),o&&s){c.next=9;break}return c.abrupt("return");case 9:if(l=t.item){c.next=12;break}return c.abrupt("return");case 12:if("immersive"!==o.type&&"tour"!==o.type){c.next=15;break}return c.next=15,i.a.awrap(o.do("onDragStart"));case 15:o.states.dnd.hasDraggedPlaceholder&&p.shrinkLargeBlocks({ghostElement:l,draggedElement:n,event:t,block:o}),p.setGhostElementWidth(l,o.getLayoutSize());case 17:case"end":return c.stop()}}),null,null,null,Promise)})),Object(a.a)(p,"handleUpdate",(function(e,t){var n,r,a,o,s,l,c,u,d,h,g,m;return i.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=t.item.dataset.blockid,r=t.from.dataset.blockid,a=t.to.dataset.blockid,n&&r&&a){i.next=5;break}return i.abrupt("return");case 5:if("end"===t.type&&(t.item.style.width=""),o=e.getNodeById(n),s=e.getNodeById(r),l=e.getNodeById(a),s&&o&&l){i.next=11;break}return i.abrupt("return");case 11:if("number"===typeof(c=t.newIndex)){i.next=14;break}return i.abrupt("return");case 14:s.do("hasFloatGroupAsChildren")&&(c=f(o,s,c)),"story"===l.type&&(null===(d=l.getChildNodeByIndex(1))||void 0===d?void 0:null===(u=d.config)||void 0===u?void 0:u.isHidden)&&c>=1&&c++,h={srcBlock:s,targetBlock:l,itemBlock:o,insertIndex:c},"float"===o.config.size&&(delete o.config.size,l.do("deleteFloatGroupById",n),(g=document.getElementById(n))&&(m=g.parentElement)&&m.removeChild(g)),p.updateBlocks(h);case 19:case"end":return i.stop()}}),null,null,null,Promise)})),Object(a.a)(p,"updateBlocks",(function(e){var t,n,r,a;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.srcBlock,n=e.targetBlock,r=e.itemBlock,a=e.insertIndex,"story"===t.type&&e.insertIndex===t.getChildrenNodes().length-1&&(a-=1),t.removeChildById(r.id),r.states.isAssembling=!0,o.next=7,i.a.awrap(n.upsertChild(r,a));case 7:if(r.states.isAssembling=!1,t===n){o.next=11;break}return o.next=11,i.a.awrap(t.update());case 11:return o.next=13,i.a.awrap(n.update());case 13:if("embed"!==r.type&&"webmap"!==r.type&&"expressmap"!==r.type&&"swipe"!==r.type){o.next=16;break}return o.next=16,i.a.awrap(r.updateBlockComponent());case 16:if("immersive"!==r.type&&"tour"!==r.type){o.next=19;break}return o.next=19,i.a.awrap(r.do("onDragEnd"));case 19:case"end":return o.stop()}}),null,null,null,Promise)})),Object(a.a)(p,"shrinkLargeBlocks",(function(e){var t=e.block,n=e.draggedElement,r=e.ghostElement,a=e.event,o="immersive"===t.type||"tour"===t.type,i=o?t.do("getDragHandleElement"):null,s=o?t.do("getImmersiveElement"):null,u=i?i.getBoundingClientRect().top:0,d=s?s.getBoundingClientRect().top:0;if(o){var p=u-d,h=d+window.pageYOffset;window.scrollTo(0,h-p)}n.classList.add("large-block");var f=a.originalEvent.clientX,g=a.originalEvent.clientY;Object(l.b)()?n.style.marginLeft=f-n.getBoundingClientRect().left-parseInt(c.b.replace("px",""),10)+"px":n.style.marginLeft=f-n.getBoundingClientRect().left+"px";var m=r.getBoundingClientRect().top;if(n.style.marginTop="".concat(o?g-d:g-m,"px"),"image"===t.type){var v=n.getElementsByTagName("img")[0];n.style.backgroundImage="url(".concat(v.getAttribute("src"),")")}for(var b=n.firstChild;b;)n.removeChild(b),b=n.firstChild;if("embed"===t.type||"video"===t.type)n.classList.add("embed-placeholder");else if("webmap"===t.type||"expressmap"===t.type)n.classList.add("map-placeholder");else if("immersive"===t.type){var y;"slideshow"===(null===(y=t.data)||void 0===y?void 0:y.type)?n.classList.add("slideshow-placeholder"):n.classList.add("sidecar-placeholder")}else"tour"===t.type?n.classList.add("tour-placeholder"):"swipe"===t.type&&n.classList.add("swipe-placeholder")})),Object(a.a)(p,"setGhostElementWidth",(function(e,t){var n=e.firstChild;"float"===t&&(n=e.parentElement);var r=h(t,n,16);r&&(e.style.width=r)}));var h=function(e,t,n){if(t){var r=t.clientWidth;return("float"===e?1.5*r:"standard"===e?.66*r:"wide"===e?r-2*n:r)+"px"}},f=function(e,t,n){var r=e.getIndex();if(0===n)return r;for(var a=n,o=t.getChildNodeByIndex(0),i=!1,s=0;s<n;s++){if(o.id===e.id&&(i=!0),o.states.isMedia&&"float"===o.config.size){var l=t.root().do("getFloatGroupById",o.id);if(l){var c=l.childrenIds.length;a=n-r===1&&n-s===1?o.getIndex()+c:o.getIndex()+c+1}}else a=o.getIndex()+1;i&&n-s===1&&n-r!==1&&(a-=1),o=t.getChildNodeByIndex(a)}return a}},UTGL:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("yFcC"),a=n.n(r),o=n("ERkP"),i=n.n(o),s=n("NX3A"),l=i.a.createElement,c="256px",u=function(e){var t="".concat(e.baseUrl,"/static/images/builder/drag-and-drop");return l(a.a,{id:"2740610981",dynamic:[s.a.color.haikuGreen,c,"132px",t,t,t,t,t,t]},[".dnd-ghost-block{height:0.2rem;margin:auto;padding:1px;overflow:hidden;background:".concat(s.a.color.haikuGreen,";}"),".dnd-drag-block.large-block{width:".concat(c," !important;height:").concat("132px"," !important;overflow:hidden;background-size:cover;background-repeat:no-repeat;background-position:center;}"),".dnd-drag-block .media-toolbar,.dnd-drag-block .dnd-handle,.dnd-drag-block .media-caption,.dnd-ghost-block *{visibility:hidden;}",".dnd-drag-block.embed-placeholder{background-image:url('".concat(t,"/embed-placeholder.png');}"),".dnd-drag-block.map-placeholder{background-image :url('".concat(t,"/map-placeholder.png');}"),".dnd-drag-block.sidecar-placeholder{background-image :url('".concat(t,"/sidecar-placeholder.png');}"),".dnd-drag-block.slideshow-placeholder{background-image :url('".concat(t,"/slideshow-placeholder.png');}"),".dnd-drag-block.tour-placeholder{background-image :url('".concat(t,"/guided-tour-placeholder.png');}"),".dnd-drag-block.swipe-placeholder{background-image :url('".concat(t,"/swipe-placeholder.png');}"),".dnd-handle:hover,.dnd-handle:focus{cursor:move;}"])}},W9tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("WXRn"),a=function(e){var t="undefined"===typeof e.delay?200:e.delay,n=Object(r.a)(),a=0,o=0;try{n&&(a=window.parent.scrollX,o=window.parent.scrollY)}catch(i){n=!1}setTimeout((function(){if(e.element&&document&&document.documentElement&&("scrollBehavior"in document.documentElement.style?e.element.scrollIntoView({behavior:e.behavior||"smooth",block:e.verticalAlign}):e.element.scrollIntoView("start"===e.verticalAlign),n))try{window.parent.scrollTo(a,o)}catch(i){}}),t)}},juCh:function(e,t,n){"use strict";n.r(t),n.d(t,"ImmersiveNarrativePanel",(function(){return _}));var r=n("VtSi"),a=n.n(r),o=n("9fIP"),i=n("MMYH"),s=n("pWxA"),l=n("PRnZ"),c=n("K/z8"),u=n("sRHE"),d=n("8K1b"),p=n("zjfJ"),h=n("ERkP"),f=n.n(h),g=n("W9tV"),m=n("txt0"),v=n("2WDw"),b=n("h0mi"),y=n("O8Oa"),w=n("IXx0"),x=n("X/3D");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var T=function(e){Object(d.a)(s,e);var t,r=(t=s,function(){var e,n=Object(u.a)(t);if(E()){var r=Object(u.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(c.a)(this,e)});function s(e){var t;return Object(o.a)(this,s),(t=r.call(this,e)).states=k({textLength:0,hasNudgeBeenDismissed:!1,canDuplicate:!0},t.states),t}return Object(i.a)(s,[{key:"getBlockComponent",value:function(){return f.a.lazy((function(){return Promise.all([n.e(0),n.e(65)]).then(n.bind(null,"4Y6I"))}))}},{key:"getLayoutComponent",value:function(){}},{key:"getViewerProps",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k({},this.states));case 1:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"getBuilderProps",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.t1={},e.next=4,a.a.awrap(this.getViewerProps());case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"getLayoutProps",value:function(){}}]),s}(y.a);Object(p.a)(T,"type","contentCounter"),Object(p.a)(T,"getInstance",(function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new T(Object(y.b)(e,T.type)));case 1:case"end":return t.stop()}}),null,null,null,Promise)}));var C=T;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var _=function(e){Object(d.a)(h,e);var t,r=(t=h,function(){var e,n=Object(u.a)(t);if(P()){var r=Object(u.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(c.a)(this,e)});function h(e){var t,n,i,l,c,u,d,f,m;Object(o.a)(this,h),m=r.call(this,e),Object(p.a)(Object(s.a)(m),"insertExtraBlock",(function(e){var t,n,r,o;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.type,n=e.index,r=e.hintType,i.next=3,a.a.awrap(m.insertBlock({mode:b.a.Builder,type:"text",parent:Object(s.a)(m),data:{text:"",type:t},states:O({hasFocus:!1,isExtra:!0,showInlineInserter:function(){return"slideshow"===m.states.immersiveType||0===m.childrenIds.length},getInsertHintType:function(){return r},getInserterIndex:"number"===typeof n?function(){return n}:void 0,disableToolbar:e.disableToolbar,disableSplitByEnter:e.disableSplitByEnter,dynamicInserterItem:!0,convertExtraBlockOnEmptyEnter:"sidecar"===m.states.immersiveType},m.getNarrativeStates("text")),config:{size:"wide"},index:n},!1));case 3:return o=i.sent,i.abrupt("return",o);case 5:case"end":return i.stop()}}),null,null,null,Promise)})),Object(p.a)(Object(s.a)(m),"getContentCounterUI",(function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.contentCounter){e.next=3;break}return e.next=3,a.a.awrap(m.initContentCounter());case 3:return e.next=5,a.a.awrap(m.contentCounter.render());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),null,null,null,Promise)})),Object(p.a)(Object(s.a)(m),"initContentCounter",(function(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(C.getInstance({mode:m.mode,type:"contentCounter"}));case 2:m.contentCounter=n.sent,m.contentCounter.states.textLength=m.getWeightedTextLength(),m.contentCounter.states.canDuplicate=m.states.canDuplicate,m.contentCounter.states.onNudgeDismissed=m.dismissNudge,m.contentCounter.states.onDuplicateClicked=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.parent){e.next=3;break}return e.next=3,a.a.awrap(m.parent.do("duplicate"));case 3:case"end":return e.stop()}}),null,null,null,Promise)},e=!1,(t=m.getImmersiveId())&&(e=m.getGlobalState("content-count-nudge-dismissed-".concat(t))||!1),m.contentCounter.states.hasNudgeBeenDismissed=e;case 11:case"end":return n.stop()}}),null,null,null,Promise)})),Object(p.a)(Object(s.a)(m),"getWeightedTextLength",(function(){return"slideshow"!==m.states.immersiveType?0:m.getChildrenBlocks().reduce((function(e,t){var n=t.do("getTextLength");return"number"!==typeof n||"text"!==t.type?e:e+(t.data&&"h3"===t.data.type?2*n:n)}),0)})),Object(p.a)(Object(s.a)(m),"dismissNudge",(function(){var e=m.getImmersiveId();e&&m.setGlobalState("content-count-nudge-dismissed-".concat(e),!0)})),m.states.immersiveType=(null===(t=m.parent)||void 0===t?void 0:null===(n=t.states)||void 0===n?void 0:n.immersiveType)?m.parent.states.immersiveType:"sidecar",m.states.immersiveSubtype=(null===(i=m.parent)||void 0===i?void 0:null===(l=i.states)||void 0===l?void 0:l.immersiveSubtype)?m.parent.states.immersiveSubtype:void 0;var v=null===(c=m.parent)||void 0===c?void 0:null===(u=c.states)||void 0===u?void 0:u.dockedNarrativePanelPosition;m.states.dockedPanelPosition=v||"start";var y=null===(d=m.parent)||void 0===d?void 0:null===(f=d.states)||void 0===f?void 0:f.dockedNarrativePanelSize;m.states.dockedPanelSize=y||"small",m.states.isSelected=!1,m.states.isTransitionAnimated=!0,m.states.displaySize="small",m.states.captionAlignment="start",m.states.showSizeOptions=!1,m.states.isCompact=!0,m.states.canDuplicate=!0;var w="sidecar"===m.states.immersiveType&&"docked-panel"===m.states.immersiveSubtype;return m.data||(m.data={}),m.data.position||w||(m.data.position="slideshow"===m.states.immersiveType?"start-top":"start"),m.data.size||"sidecar"!==m.states.immersiveType||"floating-panel"!==m.states.immersiveSubtype||(m.data.size="small"),m.data.panelStyle||"slideshow"!==m.states.immersiveType||(m.data.panelStyle=x.a.themed),m.addEventListener("scrollTo",(function(e){m.states.topNode&&Object(g.a)({element:m.states.topNode,verticalAlign:"start",delay:0,behavior:e?"smooth":"auto"})})),m.addEventListener("updateSelected",(function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return m.states.isSelected=e.isSelected,m.states.isTransitionAnimated=e.isTransitionAnimated,t.next=4,a.a.awrap(m.update({skipSave:!0}));case 4:case"end":return t.stop()}}),null,null,null,Promise)})),m.addEventListener("onTextLengthUpdated",(function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("slideshow"!==m.states.immersiveType||!m.contentCounter){e.next=4;break}return m.contentCounter.states.textLength=m.getWeightedTextLength(),e.next=4,a.a.awrap(m.contentCounter.update({skipSave:!0}));case 4:case"end":return e.stop()}}),null,null,null,Promise)})),m.addEventListener("onCanDuplicateChanged",(function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.states.canDuplicate=e,"slideshow"!==m.states.immersiveType||!m.contentCounter){t.next=5;break}return m.contentCounter.states.canDuplicate=e,t.next=5,a.a.awrap(m.contentCounter.update({skipSave:!0}));case 5:case"end":return t.stop()}}),null,null,null,Promise)})),m.addEventListener("updateInserterItems",(function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(m.update({skipSave:!0}));case 2:return e=m.getChildrenBlocks().map((function(e){return e.update({skipSave:!0,target:"layout"})})),t.next=5,a.a.awrap(Promise.all(e));case 5:case"end":return t.stop()}}),null,null,null,Promise)})),m.addEventListener("getMediaActionTargetBlockId",(function(){return m.hasParent()?m.parent.do("getMediaPanelMediaBlockId"):void 0})),m.addEventListener("updateSubtypeWithoutUpdate",(function(e){"floating-panel"!==e||m.data.position||(m.data.position="start"),m.states.immersiveSubtype=e,m.isDirty=!0})),m}return Object(i.a)(h,[{key:"onNodeAssembled",value:function(){var e,t=this;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.states.isSelected=!!this.parent&&this.parent.do("isFirstVisibleSlide"),!this.states.isSelected){n.next=4;break}return n.next=4,a.a.awrap(this.update({skipSave:!0}));case 4:(e=this.getImmersiveId())&&"sidecar"===this.states.immersiveType&&"docked-panel"===this.states.immersiveSubtype&&this.data.position?this.setGlobalState("legacy-docked-panel-position-".concat(e),this.data.position):e&&"slideshow"===this.states.immersiveType&&this.subscribeGlobalState("content-count-nudge-dismissed-".concat(e),this.id,(function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contentCounter){e.next=4;break}return t.contentCounter.states.hasNudgeBeenDismissed=!0,e.next=4,a.a.awrap(t.contentCounter.update({skipSave:!0}));case 4:case"end":return e.stop()}}),null,null,null,Promise)}));case 6:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"getBlockComponent",value:function(){return this.mode===b.a.Viewer?"slideshow"===this.states.immersiveType?f.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"qNA3"))})):f.a.lazy((function(){return Promise.all([n.e(0),n.e(50)]).then(n.bind(null,"3Z5K"))})):"slideshow"===this.states.immersiveType?f.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(91)]).then(n.bind(null,"ERD6"))})):f.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(90)]).then(n.bind(null,"Mxhe"))}))}},{key:"getChildrenBlocks",value:function(){var e=this,t=Object(l.a)(Object(u.a)(h.prototype),"getChildrenBlocks",this).call(this);return t.forEach((function(t){var n="slideshow"===e.states.immersiveType&&"text"===t.type&&t.data&&"h3"===t.data.type;t.states=O({},t.states,{},e.getNarrativeStates(t.type),{disableToolbar:n,disableSplitByEnter:n,dynamicInserterItem:!0}),t.config||(t.config={}),t.config.size=e.getGlobalState("printMode")&&"sidecar"===e.states.immersiveType?"standard":"wide"})),t}},{key:"getChildrenUI",value:function(){var e,t,n,r,o,i;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(Object(l.a)(Object(u.a)(h.prototype),"getChildrenUI",this).call(this));case 2:if(e=s.sent,this.mode!==b.a.Viewer){s.next=5;break}return s.abrupt("return",e);case 5:if(t=this.childrenIds.length,"slideshow"!==this.states.immersiveType){s.next=30;break}if(n=this.getChildrenBlocks(),!(0===t||n[0]&&n[0].data&&"h3"!==n[0].data.type)){s.next=18;break}return s.next=11,a.a.awrap(this.insertExtraBlock({type:"h3",hintType:"optional-continue-header",index:0,disableToolbar:!0,disableSplitByEnter:!0}));case 11:if(!(r=s.sent)){s.next=18;break}return s.t0=e,s.next=16,a.a.awrap(r.render());case 16:s.t1=s.sent,s.t0.unshift.call(s.t0,s.t1);case 18:if(!(0===t||1===t&&n[0]&&n[0].data&&"paragraph"!==n[0].data.type)){s.next=28;break}return s.next=21,a.a.awrap(this.insertExtraBlock({type:"paragraph",hintType:"optional-continue-body"}));case 21:if(!(o=s.sent)){s.next=28;break}return s.t2=e,s.next=26,a.a.awrap(o.render());case 26:s.t3=s.sent,s.t2.push.call(s.t2,s.t3);case 28:s.next=40;break;case 30:if("sidecar"!==this.states.immersiveType||"docked-panel"!==this.states.immersiveSubtype&&("floating-panel"!==this.states.immersiveSubtype||0!==this.childrenIds.length)){s.next=40;break}return s.next=33,a.a.awrap(this.insertExtraBlock({type:"paragraph",hintType:"continue"}));case 33:if(!(i=s.sent)){s.next=40;break}return s.t4=e,s.next=38,a.a.awrap(i.render());case 38:s.t5=s.sent,s.t4.push.call(s.t4,s.t5);case 40:return s.abrupt("return",e);case 41:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"getViewerProps",value:function(){var e,t=this;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e="sidecar"===this.states.immersiveType&&"docked-panel"===this.states.immersiveSubtype,n.t0=this.states.immersiveSubtype,n.t1=this.states.isSelected,n.t2=this.states.isTransitionAnimated,n.next=6,a.a.awrap(this.getChildrenUI());case 6:return n.t3=n.sent,n.t4=function(e){t.states.topNode=e},n.t5=!this.parent||this.parent.do("isFirstVisibleSlide"),n.t6=!this.parent||this.parent.do("isLastVisibleSlide"),n.t7=e?this.states.dockedPanelPosition:this.data.position,n.t8=e?this.states.dockedPanelSize:this.data.size,n.t9=function(e){t.parent&&t.parent.do("onPanelThresholdHit",e)},n.t10=this.data.panelStyle||x.a.themed,n.t11=this.getGlobalState("printMode"),n.abrupt("return",{immersiveSubtype:n.t0,isVisible:n.t1,isTransitionAnimated:n.t2,children:n.t3,setTopNode:n.t4,isFirst:n.t5,isLast:n.t6,position:n.t7,size:n.t8,onThresholdHit:n.t9,panelStyle:n.t10,printMode:n.t11});case 16:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"getBuilderProps",value:function(){var e=this;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=O,t.t1={},t.next=4,a.a.awrap(this.getViewerProps());case 4:if(t.t2=t.sent,t.t3=this.id,t.t4=this.states.immersiveType,t.t5=function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("update"!==t.type&&"start"!==t.type&&"end"!==t.type){n.next=3;break}return n.next=3,a.a.awrap(Object(w.b)(e,t));case 3:case"end":return n.stop()}}),null,null,null,Promise)},t.t6=function(t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=8;break}return e.data.position=t,r.next=4,a.a.awrap(e.updateDescendents({shouldUpdatePostorder:!0}));case 4:return e.isDirty=!0,r.next=7,a.a.awrap(null===(n=e.parent)||void 0===n?void 0:n.update());case 7:"sidecar"===e.states.immersiveType&&m.a.trackEvent(m.a.Category.Builder,m.a.Action.Builder_SideCar_SwitchPanelPosition,"start"===t?m.a.Name.Builder_Sidecar_PanelPosition_FloatingLeft:"center"===t?m.a.Name.Builder_Sidecar_PanelPosition_FloatingCenter:m.a.Name.Builder_Sidecar_PanelPosition_FloatingRight);case 8:case"end":return r.stop()}}),null,null,null,Promise)},t.t7=function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=4;break}return e.data.panelStyle=t,n.next=4,a.a.awrap(e.update());case 4:case"end":return n.stop()}}),null,null,null,Promise)},t.t8=function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return e.data.size=t,n.next=4,a.a.awrap(e.updateDescendents({shouldUpdatePostorder:!0}));case 4:return n.next=6,a.a.awrap(e.update());case 6:m.a.trackEvent(m.a.Category.Builder,m.a.Action.Builder_SideCar_SwitchPanelSize,"small"===t?m.a.Name.Builder_Sidecar_PanelSize_FloatingSmall:"medium"===t?m.a.Name.Builder_Sidecar_PanelSize_FloatingMedium:m.a.Name.Builder_Sidecar_PanelSize_FloatingLarge);case 7:case"end":return n.stop()}}),null,null,null,Promise)},"slideshow"!==this.states.immersiveType){t.next=17;break}return t.next=14,a.a.awrap(this.getContentCounterUI());case 14:t.t9=t.sent,t.next=18;break;case 17:t.t9=void 0;case 18:return t.t10=t.t9,t.t11={blockId:t.t3,immersiveType:t.t4,handleDragDrop:t.t5,updateFloatingPanelPosition:t.t6,updatePanelStyle:t.t7,updateFloatingPanelSize:t.t8,contentCounterUI:t.t10},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t11));case 21:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"getLayoutComponent",value:function(){}},{key:"getLayoutProps",value:function(){}},{key:"getInserterItems",value:function(){var e,t=this.getFeatureDecisions(),n=Object(v.c)(t).filter((function(e){return"string"===typeof e||"sidecar"!==e.id&&"slideshow"!==e.id&&"guided-tour"!==e.id&&"swipe"!==e.id})),r=Object(v.f)(t);if("sidecar"!==this.states.immersiveType||"undefined"===typeof r)return n;var a="webmap"!==(null===(e=this.parent)||void 0===e?void 0:e.do("getMediaPanelMediaType")),o=n.findIndex((function(e){return"object"===typeof e&&"separator"===e.id})),i=o+(o<0?0:1);return n.splice(i,0,O({},r,{isDisabled:a})),n}},{key:"getNarrativeStates",value:function(e){return{displaySize:"embed"===e?this.states.displaySize:"normal",captionAlignment:this.states.captionAlignment,showSizeOptions:this.states.showSizeOptions,isCompact:this.states.isCompact,forceDragHandleOutside:!0,viewportOffsetBottom:this.states.viewportOffsetBottom,disableInlineInserter:"slideshow"===this.states.immersiveType,disableBetweenInserter:"slideshow"===this.states.immersiveType,disableToolbarConversionOptions:"slideshow"===this.states.immersiveType,shouldForceInitialType:"text"===e&&"slideshow"===this.states.immersiveType,offsetButtonOffset:"sidecar"===this.states.immersiveType&&"floating-panel"===this.states.immersiveSubtype?"small":"normal"}}},{key:"getImmersiveId",value:function(){if(!this.parent)throw new Error;return this.parent.do("getImmersiveId")}}]),h}(y.a);Object(p.a)(_,"type","immersive-narrative-panel"),Object(p.a)(_,"getInstance",(function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new _(Object(y.b)(e,_.type)));case 1:case"end":return t.stop()}}),null,null,null,Promise)}));t.default=_},k5Cm:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=l(/Edge/i),d=l(/firefox/i),p=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),h=l(/iP(ad|od|hone)/i),f=l(/chrome/i)&&l(/android/i),g={capture:!1,passive:!1};function m(e,t,n){e.addEventListener(t,n,!c&&g)}function v(e,t,n){e.removeEventListener(t,n,!c&&g)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function y(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&b(e,t):b(e,t))||r&&e===n)return e;if(e===n)break}while(e=y(e))}return null}var x,S=/\s+/g;function k(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(S," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(S," ")}}function E(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function T(e,t){var n="";if("string"===typeof e)n=e;else do{var r=E(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function C(e,t,n){if(e){var r=e.getElementsByTagName(t),a=0,o=r.length;if(n)for(;a<o;a++)n(r[a],a);return r}return[]}function D(){var e=document.scrollingElement;return e||document.documentElement}function O(e,t,n,r,a){if(e.getBoundingClientRect||e===window){var o,i,s,l,u,d,p;if(e!==window&&e!==D()?(i=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,u=o.right,d=o.height,p=o.width):(i=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!c))do{if(a&&a.getBoundingClientRect&&("none"!==E(a,"transform")||n&&"static"!==E(a,"position"))){var h=a.getBoundingClientRect();i-=h.top+parseInt(E(a,"border-top-width")),s-=h.left+parseInt(E(a,"border-left-width")),l=i+o.height,u=s+o.width;break}}while(a=a.parentNode);if(r&&e!==window){var f=T(a||e),g=f&&f.a,m=f&&f.d;f&&(l=(i/=m)+(d/=m),u=(s/=g)+(p/=g))}return{top:i,left:s,bottom:l,right:u,width:p,height:d}}}function P(e,t,n){for(var r=j(e,!0),a=O(e)[t];r;){var o=O(r)[n];if(!("top"===n||"left"===n?a>=o:a<=o))return r;if(r===D())break;r=j(r,!1)}return!1}function _(e,t,n){for(var r=0,a=0,o=e.children;a<o.length;){if("none"!==o[a].style.display&&o[a]!==Le.ghost&&o[a]!==Le.dragged&&w(o[a],n.draggable,e,!1)){if(r===t)return o[a];r++}a++}return null}function I(e,t){for(var n=e.lastElementChild;n&&(n===Le.ghost||"none"===E(n,"display")||t&&!b(n,t));)n=n.previousElementSibling;return n||null}function B(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Le.clone||t&&!b(e,t)||n++;return n}function N(e){var t=0,n=0,r=D();if(e)do{var a=T(e),o=a.a,i=a.d;t+=e.scrollLeft*o,n+=e.scrollTop*i}while(e!==r&&(e=e.parentNode));return[t,n]}function j(e,t){if(!e||!e.getBoundingClientRect)return D();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=E(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(r||t)return n;r=!0}}}while(n=n.parentNode);return D()}function A(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function M(e,t){return function(){if(!x){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),x=setTimeout((function(){x=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function R(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var F="Sortable"+(new Date).getTime();function z(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==E(e,"display")&&e!==Le.ghost){t.push({target:e,rect:O(e)});var n=i({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=T(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var a=!1,o=0;t.forEach((function(e){var t=0,n=e.target,i=n.fromRect,s=O(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=T(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&A(l,s)&&!A(i,s)&&(u.top-s.top)/(u.left-s.left)===(i.top-s.top)/(i.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),A(s,i)||(n.prevFromRect=i,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(a=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){E(e,"transition",""),E(e,"transform","");var a=T(this.el),o=a&&a.a,i=a&&a.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(i||1);e.animatingX=!!s,e.animatingY=!!l,E(e,"transform","translate3d("+s+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),E(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){E(e,"transition",""),E(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var X=[],Y={initializeByDefault:!0},W={mount:function(e){for(var t in Y)!Y.hasOwnProperty(t)||t in e||(e[t]=Y[t]);X.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var a=e+"Global";X.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][a]&&t[r.pluginName][a](i({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](i({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var a in X.forEach((function(r){var a=r.pluginName;if(e.options[a]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[a]=i,o(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);"undefined"!==typeof i&&(e.options[a]=i)}},getEventProperties:function(e,t){var n={};return X.forEach((function(r){"function"===typeof r.eventProperties&&o(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return X.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"===typeof a.optionListeners[t]&&(r=a.optionListeners[t].call(e[a.pluginName],n))})),r}};function H(e){var t=e.sortable,n=e.rootEl,r=e.name,a=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,d=e.oldIndex,p=e.newIndex,h=e.oldDraggableIndex,f=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[F]){var b,y=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||c||u?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=s||n,b.from=l||n,b.item=a||n,b.clone=o,b.oldIndex=d,b.newIndex=p,b.oldDraggableIndex=h,b.newDraggableIndex=f,b.originalEvent=g,b.pullMode=m?m.lastPutMode:void 0;var x=i({},v,W.getEventProperties(r,t));for(var S in x)b[S]=x[S];n&&n.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,a=s(n,["evt"]);W.pluginEvent.bind(Le)(e,t,i({dragEl:V,parentEl:Z,ghostEl:q,rootEl:J,nextEl:K,lastDownEl:Q,cloneEl:$,cloneHidden:ee,dragStarted:he,putSortable:ie,activeSortable:Le.active,originalEvent:r,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ae,hideGhostForTarget:Ne,unhideGhostForTarget:je,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){U({sortable:t,name:e,originalEvent:r})}},a))};function U(e){H(i({putSortable:ie,cloneEl:$,targetEl:V,rootEl:J,oldIndex:te,oldDraggableIndex:re,newIndex:ne,newDraggableIndex:ae},e))}var V,Z,q,J,K,Q,$,ee,te,ne,re,ae,oe,ie,se,le,ce,ue,de,pe,he,fe,ge,me,ve,be=!1,ye=!1,we=[],xe=!1,Se=!1,ke=[],Ee=!1,Te=[],Ce="undefined"!==typeof document,De=h,Oe=u||c?"cssFloat":"float",Pe=Ce&&!f&&!h&&"draggable"in document.createElement("div"),_e=function(){if(Ce){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ie=function(e,t){var n=E(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=_(e,0,t),o=_(e,1,t),i=a&&E(a),s=o&&E(o),l=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+O(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+O(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&i.float&&"none"!==i.float){var u="left"===i.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return a&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||l>=r&&"none"===n[Oe]||o&&"none"===n[Oe]&&l+c>r)?"vertical":"horizontal"},Be=function(e){function t(e,n){return function(r,a,o,i){var s=r.options.group.name&&a.options.group.name&&r.options.group.name===a.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,a,o,i),n)(r,a,o,i);var l=(n?r:a).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},a=e.group;a&&"object"==r(a)||(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},Ne=function(){!_e&&q&&E(q,"display","none")},je=function(){!_e&&q&&E(q,"display","")};Ce&&document.addEventListener("click",(function(e){if(ye)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ye=!1,!1}),!0);var Ae=function(e){if(V){var t=function(e,t){var n;return we.some((function(r){if(!I(r)){var a=O(r),o=r[F].options.emptyInsertThreshold,i=e>=a.left-o&&e<=a.right+o,s=t>=a.top-o&&t<=a.bottom+o;return o&&i&&s?n=r:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[F]._onDragOver(n)}}},Me=function(e){V&&V.parentNode[F]._isOutsideThisEl(e.target)};function Le(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[F]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ie(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Le.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in W.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var a in Be(t),this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&Pe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?m(e,"pointerdown",this._onTapStart):(m(e,"mousedown",this._onTapStart),m(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(e,"dragover",this),m(e,"dragenter",this)),we.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,z())}function Re(e,t,n,r,a,o,i,s){var l,d,p=e[F],h=p.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=a||t,l.relatedRect=o||O(t),l.willInsertAfter=s,l.originalEvent=i,e.dispatchEvent(l),h&&(d=h.call(p,l,i)),d}function Fe(e){e.draggable=!1}function ze(){Ee=!1}function Xe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ye(e){return setTimeout(e,0)}function We(e){return clearTimeout(e)}Le.prototype={constructor:Le,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,V):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,a=r.preventOnFilter,o=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(i||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){Te.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Te.push(r)}}(n),!V&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(!(s=w(s,r.draggable,n,!1))||!s.animated)&&Q!==s){if(te=B(s),re=B(s,r.draggable),"function"===typeof c){if(c.call(this,e,s,this))return U({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),G("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=w(l,r.trim(),n,!1))return U({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),G("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());r.handle&&!w(l,r.handle,n,!1)||this._prepareDragStart(e,i,s)}}},_prepareDragStart:function(e,t,n){var r,a=this,o=a.el,i=a.options,s=o.ownerDocument;if(n&&!V&&n.parentNode===o){var l=O(n);if(J=o,Z=(V=n).parentNode,K=V.nextSibling,Q=n,oe=i.group,Le.dragged=V,se={target:V,clientX:(t||e).clientX,clientY:(t||e).clientY},de=se.clientX-l.left,pe=se.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,V.style["will-change"]="all",r=function(){G("delayEnded",a,{evt:e}),Le.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!d&&a.nativeDraggable&&(V.draggable=!0),a._triggerDragStart(e,t),U({sortable:a,name:"choose",originalEvent:e}),k(V,i.chosenClass,!0))},i.ignore.split(",").forEach((function(e){C(V,e.trim(),Fe)})),m(s,"dragover",Ae),m(s,"mousemove",Ae),m(s,"touchmove",Ae),m(s,"mouseup",a._onDrop),m(s,"touchend",a._onDrop),m(s,"touchcancel",a._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,V.draggable=!0),G("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))r();else{if(Le.eventCanceled)return void this._onDrop();m(s,"mouseup",a._disableDelayedDrag),m(s,"touchend",a._disableDelayedDrag),m(s,"touchcancel",a._disableDelayedDrag),m(s,"mousemove",a._delayedDragTouchMoveHandler),m(s,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&m(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(r,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){V&&Fe(V),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,t?"touchmove":"mousemove",this._onTouchMove):(m(V,"dragend",this),m(J,"dragstart",this._onDragStart));try{document.selection?Ye((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(be=!1,J&&V){G("dragStarted",this,{evt:t}),this.nativeDraggable&&m(document,"dragover",Me);var n=this.options;!e&&k(V,n.dragClass,!1),k(V,n.ghostClass,!0),Le.active=this,e&&this._appendGhost(),U({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,Ne();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(V.parentNode[F]._isOutsideThisEl(e),t)do{if(t[F]){if(t[F]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);je()}},_onTouchMove:function(e){if(se){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=q&&T(q,!0),i=q&&o&&o.a,s=q&&o&&o.d,l=De&&ve&&N(ve),c=(a.clientX-se.clientX+r.x)/(i||1)+(l?l[0]-ke[0]:0)/(i||1),u=(a.clientY-se.clientY+r.y)/(s||1)+(l?l[1]-ke[1]:0)/(s||1);if(!Le.active&&!be){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(q){o?(o.e+=c-(ce||0),o.f+=u-(ue||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");E(q,"webkitTransform",d),E(q,"mozTransform",d),E(q,"msTransform",d),E(q,"transform",d),ce=c,ue=u,le=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!q){var e=this.options.fallbackOnBody?document.body:J,t=O(V,!0,De,!0,e),n=this.options;if(De){for(ve=e;"static"===E(ve,"position")&&"none"===E(ve,"transform")&&ve!==document;)ve=ve.parentNode;ve!==document.body&&ve!==document.documentElement?(ve===document&&(ve=D()),t.top+=ve.scrollTop,t.left+=ve.scrollLeft):ve=D(),ke=N(ve)}k(q=V.cloneNode(!0),n.ghostClass,!1),k(q,n.fallbackClass,!0),k(q,n.dragClass,!0),E(q,"transition",""),E(q,"transform",""),E(q,"box-sizing","border-box"),E(q,"margin",0),E(q,"top",t.top),E(q,"left",t.left),E(q,"width",t.width),E(q,"height",t.height),E(q,"opacity","0.8"),E(q,"position",De?"absolute":"fixed"),E(q,"zIndex","100000"),E(q,"pointerEvents","none"),Le.ghost=q,e.appendChild(q),E(q,"transform-origin",de/parseInt(q.style.width)*100+"% "+pe/parseInt(q.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,a=n.options;G("dragStart",this,{evt:e}),Le.eventCanceled?this._onDrop():(G("setupClone",this),Le.eventCanceled||(($=R(V)).draggable=!1,$.style["will-change"]="",this._hideClone(),k($,this.options.chosenClass,!1),Le.clone=$),n.cloneId=Ye((function(){G("clone",n),Le.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore($,V),n._hideClone(),U({sortable:n,name:"clone"}))})),!t&&k(V,a.dragClass,!0),t?(ye=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,V)),m(document,"drop",n),E(V,"transform","translateZ(0)")),be=!0,n._dragStartId=Ye(n._dragStarted.bind(n,t,e)),m(document,"selectstart",n),he=!0,p&&E(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,a,o=this.el,s=e.target,l=this.options,c=l.group,u=Le.active,d=oe===c,p=l.sort,h=ie||u,f=this,g=!1;if(!Ee){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=w(s,l.draggable,o,!0),M("dragOver"),Le.eventCanceled)return g;if(V.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return z(!1);if(ye=!1,u&&!l.disabled&&(d?p||(r=!J.contains(V)):ie===this||(this.lastPutMode=oe.checkPull(this,u,V,e))&&c.checkPut(this,u,V,e))){if(a="vertical"===this._getDirection(e,s),t=O(V),M("dragOverValid"),Le.eventCanceled)return g;if(r)return Z=J,R(),this._hideClone(),M("revert"),Le.eventCanceled||(K?J.insertBefore(V,K):J.appendChild(V)),z(!0);var m=I(o,l.draggable);if(!m||function(e,t,n){var r=O(I(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,a,this)&&!m.animated){if(m===V)return z(!1);if(m&&o===e.target&&(s=m),s&&(n=O(s)),!1!==Re(J,o,V,t,s,n,e,!!s))return R(),o.appendChild(V),Z=o,X(),z(!0)}else if(s.parentNode===o){n=O(s);var v,b,y,x=V.parentNode!==o,S=!function(e,t,n){var r=n?e.left:e.top,a=n?e.right:e.bottom,o=n?e.width:e.height,i=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===i||a===s||r+o/2===i+l/2}(V.animated&&V.toRect||t,s.animated&&s.toRect||n,a),T=a?"top":"left",C=P(s,"top","top")||P(V,"top","top"),D=C?C.scrollTop:void 0;if(fe!==s&&(b=n[T],xe=!1,Se=!S&&l.invertSwap||x),0!==(v=function(e,t,n,r,a,o,i,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,p=!1;if(!i)if(s&&me<c*a){if(!xe&&(1===ge?l>u+c*o/2:l<d-c*o/2)&&(xe=!0),xe)p=!0;else if(1===ge?l<u+me:l>d-me)return-ge}else if(l>u+c*(1-a)/2&&l<d-c*(1-a)/2)return function(e){return B(V)<B(e)?1:-1}(t);if((p=p||i)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,s,n,a,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Se,fe===s))){var _=B(V);do{_-=v,y=Z.children[_]}while(y&&("none"===E(y,"display")||y===q))}if(0===v||y===s)return z(!1);fe=s,ge=v;var N=s.nextElementSibling,j=!1,A=Re(J,o,V,t,s,n,e,j=1===v);if(!1!==A)return 1!==A&&-1!==A||(j=1===A),Ee=!0,setTimeout(ze,30),R(),j&&!N?o.appendChild(V):s.parentNode.insertBefore(V,j?N:s),C&&L(C,0,D-C.scrollTop),Z=V.parentNode,void 0===b||Se||(me=Math.abs(b-O(s)[T])),X(),z(!0)}if(o.contains(V))return z(!1)}return!1}function M(l,c){G(l,f,i({evt:e,isOwner:d,axis:a?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:p,fromSortable:h,target:s,completed:z,onMove:function(n,r){return Re(J,o,V,t,n,O(n),e,r)},changed:X},c))}function R(){M("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function z(t){return M("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==h&&(k(V,ie?ie.options.ghostClass:u.options.ghostClass,!1),k(V,l.ghostClass,!0)),ie!==f&&f!==Le.active?ie=f:f===Le.active&&ie&&(ie=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){M("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===V&&!V.animated||s===o&&!s.animated)&&(fe=null),l.dragoverBubble||e.rootEl||s===document||(V.parentNode[F]._isOutsideThisEl(e.target),!t&&Ae(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function X(){ne=B(V),ae=B(V,l.draggable),U({sortable:f,name:"change",toEl:o,newIndex:ne,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Ae),v(document,"mousemove",Ae),v(document,"touchmove",Ae)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ne=B(V),ae=B(V,n.draggable),G("drop",this,{evt:e}),Z=V&&V.parentNode,ne=B(V),ae=B(V,n.draggable),Le.eventCanceled?this._nulling():(be=!1,Se=!1,xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),We(this.cloneId),We(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&E(document.body,"user-select",""),E(V,"transform",""),e&&(he&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),q&&q.parentNode&&q.parentNode.removeChild(q),(J===Z||ie&&"clone"!==ie.lastPutMode)&&$&&$.parentNode&&$.parentNode.removeChild($),V&&(this.nativeDraggable&&v(V,"dragend",this),Fe(V),V.style["will-change"]="",he&&!be&&k(V,ie?ie.options.ghostClass:this.options.ghostClass,!1),k(V,this.options.chosenClass,!1),U({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==Z?(ne>=0&&(U({rootEl:Z,name:"add",toEl:Z,fromEl:J,originalEvent:e}),U({sortable:this,name:"remove",toEl:Z,originalEvent:e}),U({rootEl:Z,name:"sort",toEl:Z,fromEl:J,originalEvent:e}),U({sortable:this,name:"sort",toEl:Z,originalEvent:e})),ie&&ie.save()):ne!==te&&ne>=0&&(U({sortable:this,name:"update",toEl:Z,originalEvent:e}),U({sortable:this,name:"sort",toEl:Z,originalEvent:e})),Le.active&&(null!=ne&&-1!==ne||(ne=te,ae=re),U({sortable:this,name:"end",toEl:Z,originalEvent:e}),this.save()))),this._nulling())},_nulling:function(){G("nulling",this),J=V=Z=q=K=$=Q=ee=se=le=he=ne=ae=te=re=fe=ge=ie=oe=Le.dragged=Le.ghost=Le.clone=Le.active=null,Te.forEach((function(e){e.checked=!0})),Te.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":V&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,a=n.length,o=this.options;r<a;r++)w(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Xe(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var a=n.children[r];w(a,this.options.draggable,n,!1)&&(t[e]=a)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=W.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Be(n)},destroy:function(){G("destroy",this);var e=this.el;e[F]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),we.splice(we.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(G("hideClone",this),Le.eventCanceled)return;E($,"display","none"),this.options.removeCloneOnHide&&$.parentNode&&$.parentNode.removeChild($),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(G("showClone",this),Le.eventCanceled)return;J.contains(V)&&!this.options.group.revertClone?J.insertBefore($,V):K?J.insertBefore($,K):J.appendChild($),this.options.group.revertClone&&this.animate(V,$),E($,"display",""),ee=!1}}else this._hideClone()}},Ce&&m(document,"touchmove",(function(e){(Le.active||be)&&e.cancelable&&e.preventDefault()})),Le.utils={on:m,off:v,css:E,find:C,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:M,closest:w,toggleClass:k,clone:R,index:B,nextTick:Ye,cancelNextTick:We,detectDirection:Ie,getChild:_},Le.get=function(e){return e[F]},Le.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Le.utils=i({},Le.utils,e.utils)),W.mount(e)}))},Le.create=function(e,t){return new Le(e,t)},Le.version="1.10.2";var He,Ge,Ue,Ve,Ze,qe,Je=[],Ke=!1;function Qe(){Je.forEach((function(e){clearInterval(e.pid)})),Je=[]}function $e(){clearInterval(qe)}var et=M((function(e,t,n,r){if(t.scroll){var a,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=D(),u=!1;Ge!==n&&(Ge=n,Qe(),He=t.scroll,a=t.scrollFn,!0===He&&(He=j(n,!0)));var d=0,p=He;do{var h=p,f=O(h),g=f.top,m=f.bottom,v=f.left,b=f.right,y=f.width,w=f.height,x=void 0,S=void 0,k=h.scrollWidth,T=h.scrollHeight,C=E(h),P=h.scrollLeft,_=h.scrollTop;h===c?(x=y<k&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),S=w<T&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(x=y<k&&("auto"===C.overflowX||"scroll"===C.overflowX),S=w<T&&("auto"===C.overflowY||"scroll"===C.overflowY));var I=x&&(Math.abs(b-o)<=s&&P+y<k)-(Math.abs(v-o)<=s&&!!P),B=S&&(Math.abs(m-i)<=s&&_+w<T)-(Math.abs(g-i)<=s&&!!_);if(!Je[d])for(var N=0;N<=d;N++)Je[N]||(Je[N]={});Je[d].vx==I&&Je[d].vy==B&&Je[d].el===h||(Je[d].el=h,Je[d].vx=I,Je[d].vy=B,clearInterval(Je[d].pid),0==I&&0==B||(u=!0,Je[d].pid=setInterval(function(){r&&0===this.layer&&Le.active._onTouchMove(Ze);var t=Je[this.layer].vy?Je[this.layer].vy*l:0,n=Je[this.layer].vx?Je[this.layer].vx*l:0;"function"===typeof a&&"continue"!==a.call(Le.dragged.parentNode[F],n,t,e,Ze,Je[this.layer].el)||L(Je[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=j(p,!1)));Ke=u}}),30),tt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,i=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||a;i();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function nt(){}function rt(){}nt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=_(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:tt},o(nt,{pluginName:"revertOnSpill"}),rt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:tt},o(rt,{pluginName:"removeOnSpill"});Le.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):t.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),$e(),Qe(),clearTimeout(x),x=void 0},nulling:function(){Ze=Ge=He=Ke=qe=Ue=Ve=null,Je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,a);if(Ze=e,t||u||c||p){et(e,this.options,o,t);var i=j(o,!0);!Ke||qe&&r===Ue&&a===Ve||(qe&&$e(),qe=setInterval((function(){var o=j(document.elementFromPoint(r,a),!0);o!==i&&(i=o,Qe()),et(e,n.options,o,t)}),10),Ue=r,Ve=a)}else{if(!this.options.bubbleScroll||j(o,!0)===D())return void Qe();et(e,this.options,j(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),Le.mount(rt,nt),t.a=Le}}]);