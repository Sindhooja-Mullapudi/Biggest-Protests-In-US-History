(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"8Y5g":function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("9fIP"),a=r("MMYH"),o=r("pWxA"),c=r("K/z8"),i=r("sRHE"),s=r("8K1b"),u=r("zjfJ"),p=r("ERkP"),g=r.n(p),f=r("zbcS"),l=g.a.createElement;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){Object(s.a)(p,e);var t,r=(t=p,function(){var e,r=Object(i.a)(t);if(h()){var n=Object(i.a)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Object(c.a)(this,e)});function p(e){var t;return Object(n.a)(this,p),t=r.call(this,e),Object(u.a)(Object(o.a)(t),"updateStoryContext",(function(e,r){r?t.setState(d({},e,{updateStoryContext:t.updateStoryContext})):t.setState((function(r){return d({},r,{},e,{updateStoryContext:t.updateStoryContext})}))})),t.state={updateStoryContext:t.updateStoryContext},t}return Object(a.a)(p,[{key:"render",value:function(){return l(f.a.Provider,{value:this.state},this.props.children)}}]),p}(p.PureComponent)},EP0r:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return i}));var n=r("7xIC"),a=r.n(n),o=r("8nAU"),c=function(e){var t=e.ctx,r=e.href,n=e.asPath,o=e.isExternal;"undefined"!==typeof(null===t||void 0===t?void 0:t.res)?((r.indexOf("/error?errType=story-load")>-1||r.indexOf("/error?errType=story-inaccessible")>-1)&&t.res.setHeader("Cache-Control","public, max-age=300"),t.res.writeHead(302,{Location:n||r}),t.res.end()):o?window.location.href=r:a.a.push(r,n)},i=function(e,t){var r="".concat(t,"/stories");if(!e||t&&e&&!e.replace(t,""))return r;var n=t||"".replace(/\//,"\\/"),a=new RegExp("^".concat(n,"(?=/|$)")),c=e.replace(a,""),i=new RegExp(/^\/error($|[/?#])/).test(c);return""===c||"/"===c||i?r:Object(o.a)()?"".concat(t).concat(c):c}},MHYw:function(e,t,r){"use strict";r.d(t,"d",(function(){return h})),r.d(t,"c",(function(){return O})),r.d(t,"b",(function(){return x}));var n=r("VtSi"),a=r.n(n),o=r("9fIP"),c=r("zjfJ"),i=r("7xIC"),s=r.n(i),u=r("x2Ad"),p=r("7sDT"),g=r("8nAU"),f=r("Z34l"),l=r("fd07"),b=r("EP0r"),d=r("s4SP"),h=function(e){var t=e.userSession,r=e.error,n=e.signInUrl,a=e.config,o=e.ctx,c=function(e){Object(b.b)({ctx:o,asPath:"".concat(a.BASE_URL).concat(e),href:e})};if(r&&r.code)switch(r.code){case"GWM_0003":t&&t.token?c("/error?errType=story-inaccessible"):Object(b.b)({ctx:o,href:n,isExternal:!0});break;case"CONT_0001":c("/error?errType=story-inaccessible");break;default:c("/error?errType=story-load")}else c("/error?errType=story-load")},O=function(e){var t=e.itemId,r=e.storyUrl,n=e.config,a=n.REPORT_ABUSE_EMAIL,o="I have concerns about the following StoryMap.\n\nStoryMap: ".concat(r,"\nItem page: https://").concat(n.PORTAL_HOST,"/home/item.html?id=").concat(t,"\n\n(Please describe your concerns with this StoryMap below.)");return"mailto:".concat(a,"?subject=").concat(encodeURIComponent("Concerns about a StoryMap"),"&body=").concat(encodeURIComponent(o))},x=function(e){var t=!!e.id;return e.isPortal?e.portalHostname:t&&e.customBaseUrl?e.customBaseUrl:e.portalHostname};t.a=function e(t){var r=this;Object(o.a)(this,e),Object(c.a)(this,"check",{browser:function(){var e="",t=r.getConfig();if(!t)throw new Error;var n=r.getNextPageCtx();if("undefined"!==typeof n){var a=n.req;a&&a.headers&&a.headers["user-agent"]&&(e=a.headers["user-agent"])}else e=window.navigator.userAgent;return"undefined"!==typeof n&&n.asPath&&n.asPath.includes("/unsupported-browser")||window.location.pathname.includes("/unsupported-browser")?{isUnsupported:!0,willRedirect:!1}:function(e){return!!e&&!!/Trident\/\d+/i.test(e)}(e)?(Object(b.b)({ctx:n,href:"/unsupported-browser",asPath:"".concat(t.BASE_URL,"/unsupported-browser")}),{isUnsupported:!0,willRedirect:!0}):{isUnsupported:!1,willRedirect:!1}},portal:function(){var e,t,n;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=r.getConfig()){o.next=3;break}throw new Error;case 3:if(t=r.getNextPageCtx(),r.getUserSession()){o.next=7;break}return o.abrupt("return",!0);case 7:if(n=r.getPortalSelfResponse(),o.t0=n,!o.t0){o.next=15;break}return o.t1=e.PORTAL_HOST,o.next=13,a.a.awrap(n);case 13:o.t2=o.sent.portalHostname,o.t0=o.t1!==o.t2;case 15:if(!o.t0){o.next=24;break}return o.t3=b.b,o.t4=t,o.next=20,a.a.awrap(r.getSignInUrl());case 20:return o.t5=o.sent,o.t6={ctx:o.t4,href:o.t5,isExternal:!0},(0,o.t3)(o.t6),o.abrupt("return",!1);case 24:return o.abrupt("return",!0);case 25:case"end":return o.stop()}}),null,null,null,Promise)},auth:function(){var e,t,n,o;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=r.getConfig()){c.next=3;break}throw new Error;case 3:if(t=r.getNextPageCtx(),n=r.getUserSession()){c.next=14;break}return c.t0=b.b,c.t1=t,c.next=10,a.a.awrap(r.getSignInUrl());case 10:return c.t2=c.sent,c.t3={ctx:c.t1,href:c.t2,isExternal:!0},(0,c.t0)(c.t3),c.abrupt("return",!1);case 14:return c.prev=14,c.next=17,a.a.awrap(l.h(n,e));case 17:return o=c.sent,c.next=20,a.a.awrap(r.check.portal());case 20:if(c.sent){c.next=30;break}return c.t4=b.b,c.t5=t,c.next=26,a.a.awrap(r.getSignInUrl());case 26:return c.t6=c.sent,c.t7={ctx:c.t5,href:c.t6,isExternal:!0},(0,c.t4)(c.t7),c.abrupt("return",!1);case 30:if(o){c.next=33;break}return Object(b.b)({ctx:t,href:"/error?errType=unsupported-account",asPath:"".concat(e.BASE_URL,"/error?errType=unsupported-account")}),c.abrupt("return",!1);case 33:c.next=39;break;case 35:return c.prev=35,c.t8=c.catch(14),Object(b.b)({ctx:t,href:"/error",asPath:"".concat(e.BASE_URL,"/error")}),c.abrupt("return",!1);case 39:return c.abrupt("return",!0);case 40:case"end":return c.stop()}}),null,null,[[14,35]],Promise)}}),Object(c.a)(this,"setPageData",(function(e){r.pageData=e})),Object(c.a)(this,"getPageData",(function(){return r.pageData})),Object(c.a)(this,"getPageContext",(function(){var e,t,n;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=r.getConfig(),o.next=3,a.a.awrap(r.getPortalSelfResponse());case 3:return t=o.sent,o.next=6,a.a.awrap(r.getSignInUrl());case 6:return o.t0=o.sent,o.t1=e,o.t2=Object(d.b)().locale,o.t3=r.getUserSession(),o.next=12,a.a.awrap(r.getPrivileges());case 12:return o.t4=o.sent,o.t5=r.getAllQuery(),o.t6=r.getOrigin(),o.t7=Object(p.b)({config:e,portal:t}),o.t8={isPortal:!!t.isPortal,isStatic:Object(g.a)()},n={signInUrl:o.t0,config:o.t1,locale:o.t2,userSession:o.t3,storyMapUserPrivileges:o.t4,query:o.t5,origin:o.t6,featureDecisions:o.t7,environment:o.t8},o.abrupt("return",n);case 19:case"end":return o.stop()}}),null,null,null,Promise)})),Object(c.a)(this,"getConfig",(function(){if(!r.pageData.config)throw new Error("config not ready");return r.pageData.config})),Object(c.a)(this,"setConfig",(function(e){var t=function(e){return!0===e||"true"===e};r.pageData.config=e,r.pageData.config&&(r.pageData.config.SITE_ORIGIN||(r.pageData.config.SITE_ORIGIN=r.getOrigin()),Object(g.a)()&&(r.pageData.config.BASE_URL="",r.pageData.config.OAUTH_CLIENT_ID="arcgisstorymaps",r.pageData.config.COLLECTION_ITEM_LIMIT=parseInt(30,10),r.pageData.config.APP_VERSION="20.3.0",r.pageData.config.ESRI_OVERVIEW_LINK="https://www.esri.com/en-us/arcgis/products/arcgis-storymaps/overview",r.pageData.config.SITE_URL="https://storymapsdev.arcgis.com",r.pageData.config.REPORT_ABUSE_EMAIL="arcgisonline_feedback@esri.com",r.pageData.config.LIVING_ATLAS_MAP_GROUP_ID_FREE="d2f34a39a35b4d67b30f4cfa87d6d095",r.pageData.config.YOUTUBE_API_KEY="AIzaSyDevTFP16nz6sA-akiOVi6wWXiplJnQ4qw",r.pageData.config.IS_PORTAL=t(!1),r.pageData.config.ENABLE_LAB_FEATURES=t(!1),r.pageData.config.ENABLE_ESRI_ACCESS=t(!0),r.pageData.config.ENABLE_CLASSIC_ACCESS=t(!0),r.pageData.config.ENABLE_REPORT_ABUSE=t(!0),r.pageData.config.ENABLE_SWITCH_ACCOUNTS=t(!0),r.pageData.config.ENABLE_LA_CALLOUT=t(!0),r.pageData.config.ENABLE_SOCIAL_SHARING=t(!0),r.pageData.config.ENABLE_COLLECTION_PREVIEW=t(!0),r.pageData.config.ENABLE_COLLECTION_TYPES_NEW=t(!0),r.pageData.config.ENABLE_EXPRESS_MAP_DUPLICATION=t(!1),r.pageData.config.ENABLE_SWIPE_IMAGES=t(!1)))})),Object(c.a)(this,"setNextPageCtx",(function(e){r.pageData.ctx=e})),Object(c.a)(this,"getNextPageCtx",(function(){return r.pageData.ctx})),Object(c.a)(this,"getOrigin",(function(){var e=r.getNextPageCtx();if("undefined"!==typeof e){var t=e.req;if(t&&t.headers)return"https://".concat(t.headers.host)}return"https://".concat(window.location.host)})),Object(c.a)(this,"setRawCookie",(function(e){r.pageData.rawCookie=e})),Object(c.a)(this,"removeRawCookie",(function(){r.pageData.rawCookie=void 0})),Object(c.a)(this,"getRawCookie",(function(){if(r.pageData.rawCookie)return r.pageData.rawCookie;var e="",t=r.getNextPageCtx();if("undefined"!==typeof t){var n=t.req;n&&n.headers&&n.headers.cookie&&(e=n.headers.cookie)}return e||"undefined"===typeof document||(e=document.cookie),e})),Object(c.a)(this,"getPathname",(function(){var e=r.getNextPageCtx();return"undefined"!==typeof e?e.asPath:window.location.pathname})),Object(c.a)(this,"getAllQuery",(function(){var e=r.getNextPageCtx();if("undefined"!==typeof e)return e.query;var t=s.a.router;return t&&t.query?t.query:{}})),Object(c.a)(this,"getQuery",(function(e){var t=r.getNextPageCtx();if("undefined"!==typeof t)return t.query[e];var n=s.a.router;return n&&n.query?n.query[e]:""})),Object(c.a)(this,"getUserSession",(function(){if(r.hasAuthCookie()){if(r.pageData.userSession)return r.pageData.userSession;var e=l.g(r.getRawCookie()),t=r.getConfig();return r.pageData.userSession=e?l.a({userCookie:e,portalHost:t.PORTAL_HOST,isPortal:t.IS_PORTAL}):void 0,r.pageData.userSession}})),Object(c.a)(this,"getPortalSelfResponse",(function(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.pageData.portalSelfResponse){n.next=2;break}return n.abrupt("return",r.pageData.portalSelfResponse);case 2:if(e=r.getConfig()){n.next=5;break}throw new Error;case 5:return t=e.PORTAL_HOST,n.next=8,a.a.awrap(Object(u.a)(Object(f.d)(t,r.getUserSession())));case 8:return r.pageData.portalSelfResponse=n.sent,n.abrupt("return",r.pageData.portalSelfResponse);case 10:case"end":return n.stop()}}),null,null,null,Promise)})),Object(c.a)(this,"getPrivileges",(function(){var e,t,n;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!r.pageData.privileges){o.next=2;break}return o.abrupt("return",r.pageData.privileges);case 2:if(e=r.getUserSession(),t=r.getConfig()){o.next=6;break}throw new Error;case 6:return n=t.PORTAL_HOST,o.t0=a.a,o.t1=f.f,o.t2=e||null,o.t3=n,o.next=13,a.a.awrap(r.getPortalSelfResponse());case 13:return o.t4=o.sent,o.t5=(0,o.t1)(o.t2,o.t3,o.t4),o.next=17,o.t0.awrap.call(o.t0,o.t5);case 17:return r.pageData.privileges=o.sent,o.abrupt("return",r.pageData.privileges);case 19:case"end":return o.stop()}}),null,null,null,Promise)})),Object(c.a)(this,"getSignInUrl",(function(){var e,t,n,o,c,i,s;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(!r.pageData.signInUrl){u.next=2;break}return u.abrupt("return",r.pageData.signInUrl);case 2:if(e=r.getConfig()){u.next=5;break}throw new Error;case 5:if(t=r.getOrigin(),n=Object(b.a)(r.getPathname(),r.getConfig().BASE_URL),o=r.getUserSession(),c=r.getQuery("urlKey"),!o&&!c){u.next=15;break}return u.t0=x,u.next=13,a.a.awrap(r.getPortalSelfResponse());case 13:u.t1=u.sent,i=(0,u.t0)(u.t1);case 15:return s="string"===typeof c&&"string"===typeof i?{customBaseUrl:i,urlKey:c}:void 0,r.pageData.signInUrl=l.e({origin:t,config:e,relativeUrl:n,urlKeyProps:s}),u.abrupt("return",r.pageData.signInUrl);case 18:case"end":return u.stop()}}),null,null,null,Promise)})),Object(c.a)(this,"hasAuthCookie",(function(){var e=r.getRawCookie();return!!e&&!!l.g(e)})),this.pageData={userSession:void 0,userCookie:void 0,signInUrl:void 0,portalSelfResponse:void 0,privileges:void 0,locale:"en-US"},t&&this.setNextPageCtx(t)}},s4SP:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));var n=r("7xIC"),a=r.n(n),o=r("fd07"),c=function(e){return u.indexOf(e.toLocaleLowerCase())>-1},i=function(){var e=function(){try{return new URLSearchParams(window.location.search.substr(1)).get("locale")}catch(e){return""}}()||function(){var e=Object(o.g)(document.cookie||"");return e&&e.culture?e.culture:""}()||navigator.language||"en-US",t=e.toLowerCase();return c(t)?{locale:e,lang:t}:(t=t.split("-")[0],c(t)?{locale:e,lang:t}:{locale:"en-US",lang:"en"})},s=function(e){var t=function(){var e=a.a.router;if(!e||!e.query)return"";try{var t=new URLSearchParams(e.asPath.split(/\?/)[1]).get("dir");return!t||"rtl"!==t&&"ltr"!==t?"":t}catch(r){return""}}();return"ltr"===t||"rtl"===t?t:!e||"ar"!==e&&"he"!==e?"ltr":"rtl"},u=["ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw"]},zbcS:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("ERkP"),a=Object(n.createContext)({toggleDesignPanelHook:function(){},updateStoryContext:function(){},storyLogo:{src:"https://example.org/logo.png",link:"https://example.org",alt:"alt"}})}}]);