(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{Rbad:function(e,t,n){"use strict";n.r(t),n.d(t,"Base",(function(){return z}));var a=n("9fIP"),r=n("zjfJ"),i=n("O8Oa"),s=n("VtSi"),o=n.n(s),c=n("MMYH"),l=n("PRnZ"),u=n("K/z8"),d=n("sRHE"),p=n("8K1b"),f=n("ERkP"),b=n.n(f),h=n("txt0"),y=n("h0mi"),v=n("lBFC");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw r}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){Object(p.a)(i,e);var t,r=(t=i,function(){var e,n=Object(d.a)(t);if(m()){var a=Object(d.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function i(e){var t;return Object(a.a)(this,i),(t=r.call(this,e)).data.type||(t.data.type="sidecar"),t.data.subtype||(t.data.subtype="docked-panel"),t.data.narrativePanelSize||(t.data.narrativePanelSize="small"),t}return Object(c.a)(i,[{key:"onNodeAssembled",value:function(){var e=this;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.subscribeGlobalState("legacy-docked-panel-position-".concat(this.id),this.id,(function(t){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.data.narrativePanelPosition){n.next=6;break}return e.data.narrativePanelPosition=t,n.next=4,o.a.awrap(e.updateDescendents({shouldUpdatePostorder:!0}));case 4:return n.next=6,o.a.awrap(e.update({skipSave:!0}));case 6:case"end":return n.stop()}}),null,null,null,Promise)})),t.next=3,o.a.awrap(Object(l.a)(Object(d.a)(i.prototype),"onNodeAssembled",this).call(this));case 3:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"getBlockComponent",value:function(){return this.mode===y.a.Viewer?b.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"/BqC"))})):b.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(94)]).then(n.bind(null,"ys93"))}))}},{key:"getChildrenBlocks",value:function(){var e,t=Object(l.a)(Object(d.a)(i.prototype),"getChildrenBlocks",this).call(this),n=w(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.states.dockedNarrativePanelPosition=this.data.narrativePanelPosition,a.states.dockedNarrativePanelSize=this.data.narrativePanelSize}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"getViewerProps",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=S,e.t1={},e.next=4,o.a.awrap(Object(l.a)(Object(d.a)(i.prototype),"getViewerProps",this).call(this));case 4:return e.t2=e.sent,e.t3={subtype:this.data.subtype,narrativePanelPosition:this.data.narrativePanelPosition},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"getBuilderProps",value:function(){var e=this;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=S,t.t1={},t.next=4,o.a.awrap(Object(l.a)(Object(d.a)(i.prototype),"getBuilderProps",this).call(this));case 4:return t.t2=t.sent,t.t3={},t.next=8,o.a.awrap(this.getViewerProps());case 8:return t.t4=t.sent,t.t5={updateNarrativePanelPosition:function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.data.narrativePanelPosition="end"===e.data.narrativePanelPosition?"start":"end",t.next=3,o.a.awrap(e.update());case 3:return t.next=5,o.a.awrap(e.updateDescendents({shouldUpdatePostorder:!0}));case 5:h.a.trackEvent(h.a.Category.Builder,h.a.Action.Builder_SideCar_SwitchPanelPosition,"end"===e.data.narrativePanelPosition?h.a.Name.Builder_Sidecar_PanelPosition_DockedRight:h.a.Name.Builder_Sidecar_PanelPosition_DockedLeft);case 6:case"end":return t.stop()}}),null,null,null,Promise)},updateNarrativePanelSize:function(){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data.narrativePanelSize,e.data.narrativePanelSize="small"===t?"medium":"medium"===t?"large":"small",n.next=4,o.a.awrap(e.update());case 4:return n.next=6,o.a.awrap(e.updateDescendents({shouldUpdatePostorder:!0}));case 6:h.a.trackEvent(h.a.Category.Builder,h.a.Action.Builder_SideCar_SwitchPanelSize,"small"===e.data.narrativePanelSize?h.a.Name.Builder_Sidecar_PanelSize_DockedSmall:"medium"===e.data.narrativePanelSize?h.a.Name.Builder_Sidecar_PanelSize_DockedMedium:h.a.Name.Builder_Sidecar_PanelSize_DockedLarge);case 7:case"end":return n.stop()}}),null,null,null,Promise)},selectLayoutType:function(t){var n;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.data.subtype=t,n=e.getSelectedSlide(),e.getChildrenBlocks().forEach((function(t){t.do("updateSubtypeWithoutUpdate",e.data.subtype)})),a.next=6,o.a.awrap(e.update());case 6:if(!n){a.next=9;break}return a.next=9,o.a.awrap(e.navigateToSlide(n));case 9:case"end":return a.stop()}}),null,null,null,Promise)}},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 11:case"end":return t.stop()}}),null,this,null,Promise)}}]),i}(v.a);Object(r.a)(g,"type","immersive");var j=g,k=n("pWxA");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var D=function(e){Object(p.a)(s,e);var t,i=(t=s,function(){var e,n=Object(d.a)(t);if(B()){var a=Object(d.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function s(e){var t;return Object(a.a)(this,s),t=i.call(this,e),Object(r.a)(Object(k.a)(t),"isDocked",(function(){return t.states.isImmersiveShowing&&(t.states.isTopSentinelShowing||t.states.isBottomSentinelShowing)})),Object(r.a)(Object(k.a)(t),"onNavArrowClicked",(function(e){var n,a,r,i,s;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.childrenIds.indexOf(t.states.selectedSlideId),a=n,-1!==(r="previous"===e?t.getPreviousVisibleChildIndex(a):t.getNextVisibleChildIndex(a))&&(a=r),i="beginning"===e?t.getFirstVisibleChildId():t.childrenIds[a]){c.next=7;break}return c.abrupt("return");case 7:if(!(s=t.childrenNodes[i])){c.next=11;break}return c.next=11,o.a.awrap(t.navigateToSlide(s,!0));case 11:case"end":return c.stop()}}),null,null,null,Promise)})),Object(r.a)(Object(k.a)(t),"isInteractable",(function(){return t.states.isImmersiveShowing&&!t.states.isTopInteractableSentinelShowing&&!t.states.isBottomInteractableSentinelShowing})),Object(r.a)(Object(k.a)(t),"setInteractiveSentinelShowing",(function(e,n){var a;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"!==typeof t.states[e]){r.next=2;break}return r.abrupt("return");case 2:if(a=t.isInteractable(),t.states[e]=n,t.isInteractable()===a){r.next=8;break}return r.next=8,o.a.awrap(t.update({skipSave:!0}));case 8:case"end":return r.stop()}}),null,null,null,Promise)})),t.states.isTopInteractableSentinelShowing=!1,t.states.isBottomInteractableSentinelShowing=!1,t.states.hasNavigatedSlides=!1,t}return Object(c.a)(s,[{key:"getBlockComponent",value:function(){return this.mode===y.a.Viewer?b.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"EVM9"))})):b.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(95)]).then(n.bind(null,"N/Kg"))}))}},{key:"getViewerProps",value:function(){var e,t,n=this;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.getSelectedSlide(),t=e&&e.do("getMediaPanelMediaDetailedType")||"",a.t0=I,a.t1={},a.next=6,o.a.awrap(Object(l.a)(Object(d.a)(s.prototype),"getViewerProps",this).call(this));case 6:return a.t2=a.sent,a.t3={isInteractable:this.isInteractable(),hasNavigatedSlides:this.states.hasNavigatedSlides,selectedSlideDetailedMediaType:t,onNavArrowClicked:this.onNavArrowClicked,setIsTopInteractableSentinelShowing:function(e){n.setInteractiveSentinelShowing("isTopInteractableSentinelShowing",e)},setIsBottomInteractableSentinelShowing:function(e){n.setInteractiveSentinelShowing("isBottomInteractableSentinelShowing",e)}},a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3));case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"updateSlidesActivity",value:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(Object(l.a)(Object(d.a)(s.prototype),"updateSlidesActivity",this).call(this,e));case 2:if(this.states.hasNavigatedSlides){t.next=6;break}return this.states.hasNavigatedSlides=!0,t.next=6,o.a.awrap(this.update({skipSave:!0}));case 6:case"end":return t.stop()}}),null,this,null,Promise)}}]),s}(v.a);Object(r.a)(D,"type","immersive");var N=D,z=function e(){Object(a.a)(this,e)};Object(r.a)(z,"type","immersive"),Object(r.a)(z,"getInstance",(function(e){if(!e.data)throw new Error("No block data provided");return"slideshow"===e.data.type?new N(Object(i.b)(e,N.type)):new j(Object(i.b)(e,j.type))}));t.default=z}}]);