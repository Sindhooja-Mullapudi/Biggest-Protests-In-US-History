(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{Othq:function(a,e,t){"use strict";t.r(e),t.d(e,"StoryBuilder",(function(){return Ea}));var o=t("9fIP"),n=t("MMYH"),s=t("pWxA"),r=t("K/z8"),i=t("sRHE"),c=t("8K1b"),l=t("zjfJ"),p=t("ERkP"),d=t.n(p),g=t("AuFC"),x=t("Y/5s"),h=t("WkFi"),y=t("JZSJ"),m=t("yFcC"),u=t.n(m),b=t("2SGB"),f=t("YQpL"),k=t("O94r"),v=t.n(k),C=t("i3DM"),j=t("NX3A"),O=t("Z4N4"),w=t("nylY"),_=t("mDjW"),L=t("iSuU"),N=t("+L/X"),R=t("V+ka"),G=t("txt0"),P=t("Lf33"),V=t("liFR"),S=t("rHGT"),T=t("DpQq"),D=t("7Vmz"),B=t("tSRP"),F=t("eCu0"),I=t("gbSL"),A=t("MmJo"),W=d.a.createElement;function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var H=function(a){Object(c.a)(d,a);var e,t=(e=d,function(){var a,t=Object(i.a)(e);if(M()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function d(){var a;Object(o.a)(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n)),Object(l.a)(Object(s.a)(a),"state",{isCustomColorInputValid:!0}),Object(l.a)(Object(s.a)(a),"customColorRef",Object(p.createRef)()),Object(l.a)(Object(s.a)(a),"renderDropdown",(function(){var e={styles:W(u.a,{id:"2382879093",dynamic:[j.a.spacing.xxxxs,j.a.spacing.xxxxs]},[".info-tooltip.__jsx-style-dynamic-selector{margin-left:".concat(j.a.spacing.xxxxs,";}"),"html[dir='rtl'] .info-tooltip.__jsx-style-dynamic-selector{margin:0 ".concat(j.a.spacing.xxxxs," 0 0;}")]),className:u.a.dynamic([["2382879093",[j.a.spacing.xxxxs,j.a.spacing.xxxxs]]])},t={styles:W(u.a,{id:"186884704"},[".error-icon-tooltip.jsx-186884704{position:absolute;right:1.2rem;top:calc(50% - 0.9rem);}","html[dir='rtl'] .error-icon-tooltip.jsx-186884704{left:1.2rem;right:unset;}"]),className:"jsx-186884704"},o={styles:W(u.a,{id:"3508950036",dynamic:[j.a.spacing.xxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]},["input.__jsx-style-dynamic-selector{margin-top:".concat(j.a.spacing.xxxs,";padding-top:").concat(j.a.spacing.xxxs,";padding-bottom:").concat(j.a.spacing.xxxs,";text-transform:uppercase;}")]),className:u.a.dynamic([["3508950036",[j.a.spacing.xxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])},n=["themeColor1","themeColor2","themeColor3"].map((function(e){return{id:e,ariaLabel:a.props.intl.formatMessage({id:"builder.designPanel.accentColorControl.".concat(e,".label")}),color:a.props.themeVariables[e]}}));return W("div",null,W(P.a,{padding:"all"},W("div",{className:u.a.dynamic([["2231101257",[O.a.gapped("row",j.a.spacing.xxs),O.a.typography.body12(),j.a.color.darkGreen,j.a.color.platinum]]])+" menu-container"},W("span",{className:u.a.dynamic([["2231101257",[O.a.gapped("row",j.a.spacing.xxs),O.a.typography.body12(),j.a.color.darkGreen,j.a.color.platinum]]])+" info"},W(b.a,{id:"builder.designPanel.accentColorControl.recommended"}),"large"===a.props.screenWidth&&!a.props.isTouchDevice&&W(V.a,{tooltipContent:a.props.intl.formatMessage({id:"builder.designPanel.accentColorControl.recommended.tooltip"}),targetClassName:"info-tooltip ".concat(e.className),placement:"left"},W(S.a,{height:j.a.spacing.xxs,width:"auto",color:j.a.color.deepLilac}))),W(I.a,{selectedStyle:a.props.themeVariables.accentColor1,onClick:a.onThemeColorClick,colors:n}),W("div",{className:u.a.dynamic([["2231101257",[O.a.gapped("row",j.a.spacing.xxs),O.a.typography.body12(),j.a.color.darkGreen,j.a.color.platinum]]])+" hr"}),W("label",{className:u.a.dynamic([["2231101257",[O.a.gapped("row",j.a.spacing.xxs),O.a.typography.body12(),j.a.color.darkGreen,j.a.color.platinum]]])},W(b.a,{id:"builder.designPanel.accentColorControl.customColor"}),W("span",{className:u.a.dynamic([["2231101257",[O.a.gapped("row",j.a.spacing.xxs),O.a.typography.body12(),j.a.color.darkGreen,j.a.color.platinum]]])+" input-container"},W(T.a,{className:o.className,inputRef:a.customColorRef,type:"text",defaultValue:"undefined"===typeof a.props.themeBaseVariableOverrides.accentColor1||/themeColor/.test(a.props.themeBaseVariableOverrides.accentColor1)?void 0:a.props.themeVariables.accentColor1,placeholder:"#087F9B",maxLength:7,minLength:4,pattern:"^#(?:[0-9a-fA-F]{3}){1,2}$",onChange:a.onCustomColorChange}),!a.state.isCustomColorInputValid&&W(V.a,{placement:"left",targetClassName:"error-icon-tooltip ".concat(t.className),tooltipContent:a.props.intl.formatMessage({id:"builder.designPanel.accentColorControl.customColor.error"})},W(D.a,{width:"auto",height:"1.8rem",color:j.a.color.alertRed}))))),o.styles,e.styles,t.styles,W(u.a,{id:"2231101257",dynamic:[O.a.gapped("row",j.a.spacing.xxs),O.a.typography.body12(),j.a.color.darkGreen,j.a.color.platinum]},[".menu-container.__jsx-style-dynamic-selector{".concat(O.a.gapped("row",j.a.spacing.xxs),";-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}"),".info.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".info.__jsx-style-dynamic-selector,label.__jsx-style-dynamic-selector{".concat(O.a.typography.body12(),";color:").concat(j.a.color.darkGreen,";}"),".hr.__jsx-style-dynamic-selector{border-top:2px solid ".concat(j.a.color.platinum,";}"),".input-container.__jsx-style-dynamic-selector{display:block;position:relative;}"])))})),Object(l.a)(Object(s.a)(a),"onCustomColorChange",(function(e){var t=e.currentTarget.value;if(t){var o=t.replace(/^(?!#.*$).*/,(function(a){return"#".concat(a)}));t!==o&&(e.currentTarget.value=o),e.currentTarget.validity.valid?(a.setState({isCustomColorInputValid:!0}),a.props.onThemeBaseVariablesOverridesChange({accentColor1:e.currentTarget.value}),G.a.trackEvent(G.a.Category.Builder,"".concat(G.a.Action.Builder_DesignPanel_ThemeBaseVariable,"_accentColor1"),"customColor")):!e.currentTarget.validity.valid&&e.currentTarget.value.length>1&&(a.setState({isCustomColorInputValid:!1}),a.props.onThemeBaseVariablesOverridesChange({accentColor1:void 0}))}else a.setState({isCustomColorInputValid:!0}),a.props.onThemeBaseVariablesOverridesChange({accentColor1:void 0})})),Object(l.a)(Object(s.a)(a),"onThemeColorClick",(function(e){a.customColorRef.current&&(a.customColorRef.current.value=""),a.props.onThemeBaseVariablesOverridesChange({accentColor1:e}),G.a.trackEvent(G.a.Category.Builder,"".concat(G.a.Action.Builder_DesignPanel_ThemeBaseVariable,"_accentColor1"),e)})),a}return Object(n.a)(d,[{key:"componentDidMount",value:function(){if("undefined"!==typeof this.props.themeBaseVariableOverrides.accentColor1&&!/themeColor/.test(this.props.themeBaseVariableOverrides.accentColor1)){var a;switch(this.props.themeVariables.accentColor1.toLowerCase()){case this.props.themeVariables.themeColor1.toLowerCase():a="themeColor1";break;case this.props.themeVariables.themeColor2.toLowerCase():a="themeColor2";break;case this.props.themeVariables.themeColor3.toLowerCase():a="themeColor3"}a&&this.props.onThemeBaseVariablesOverridesChange({accentColor1:a})}}},{key:"render",value:function(){return W("div",{className:u.a.dynamic([["646719437",[O.a.typography.body14(),j.a.color.darkGreen]]])+" container"},W("span",{className:u.a.dynamic([["646719437",[O.a.typography.body14(),j.a.color.darkGreen]]])+" label"},W(b.a,{id:"builder.designPanel.accentColor"})),W(B.a,{target:W(A.a,{color:this.props.themeVariables.accentColor1,ariaLabel:this.props.intl.formatMessage({id:"builder.designPanel.accentColor"})}),popper:this.renderDropdown(),hideOnContentClick:!1,placement:"top-start"}),W(u.a,{id:"646719437",dynamic:[O.a.typography.body14(),j.a.color.darkGreen]},[".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".label.__jsx-style-dynamic-selector{".concat(O.a.typography.body14(),";color:").concat(j.a.color.darkGreen,";}")]))}}]),d}(p.PureComponent),E=Object(F.c)(Object(f.c)(H)),z=t("33+R"),Z=t("N1o1"),U=t("DIai"),J=d.a.createElement;function Q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var Y=function(a){Object(c.a)(d,a);var e,t=(e=d,function(){var a,t=Object(i.a)(e);if(Q()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function d(){var a;Object(o.a)(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n)),Object(l.a)(Object(s.a)(a),"state",{dropdownWidth:0}),Object(l.a)(Object(s.a)(a),"dropdownButtonRef",Object(p.createRef)()),Object(l.a)(Object(s.a)(a),"fontPairings",{avenierAndNoto:{titleFont:"avenirNext",bodyFont:"notoSerif",onClick:function(){a.onFontPairSelect("avenirNext","notoSerif")}},celliniAndBasic:{titleFont:"charterBT",bodyFont:"basicCommercial",onClick:function(){a.onFontPairSelect("charterBT","basicCommercial")}},klintAndReal:{titleFont:"klint",bodyFont:"realHead",onClick:function(){a.onFontPairSelect("klint","realHead")}},elanteAndElante:{titleFont:"elante",bodyFont:"elante",onClick:function(){a.onFontPairSelect("elante","elante")}},oceanSansAndMahsuriSans:{titleFont:"oceanSans",bodyFont:"mahsuriSans",onClick:function(){a.onFontPairSelect("oceanSans","mahsuriSans")}},paxAndNeueSwift:{titleFont:"pax",bodyFont:"neueSwift",onClick:function(){a.onFontPairSelect("pax","neueSwift")}}}),Object(l.a)(Object(s.a)(a),"updateDropdownWidth",(function(){var e,t=null===(e=a.dropdownButtonRef.current)||void 0===e?void 0:e.getBoundingClientRect().width;t&&t!==a.state.dropdownWidth&&a.setState({dropdownWidth:t})})),Object(l.a)(Object(s.a)(a),"renderDropdownTarget",(function(){return J("button",{type:"button",ref:a.dropdownButtonRef,"aria-label":a.props.intl.formatMessage({id:"builder.designPanel.sectionHeader.fontPairings"}),className:u.a.dynamic([["266752792",[j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])},J("span",{className:u.a.dynamic([["266752792",[j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" text"},a.renderFontPair(a.props.themeVariables.titleFontId,a.props.themeVariables.bodyFontId)),J(z.a,{height:j.a.spacing.xxs,width:"auto",color:j.a.color.cadet}),J(u.a,{id:"266752792",dynamic:[j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.spacing.xxxs,j.a.spacing.xxxs]},["button.__jsx-style-dynamic-selector{background-color:".concat(j.a.color.antiFlashWhite,";padding:").concat(j.a.spacing.xxxs," ").concat(j.a.spacing.xxs,";width:100%;min-height:4rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:left;}"),".text.__jsx-style-dynamic-selector{margin-right:".concat(j.a.spacing.xxxs,";}"),"html[dir='rtl'] .text.__jsx-style-dynamic-selector{margin:0 0 0 ".concat(j.a.spacing.xxxs,";}")]))})),Object(l.a)(Object(s.a)(a),"renderDropdown",(function(){var e={styles:J(u.a,{id:"719470964",dynamic:[j.a.spacing.xxs,j.a.spacing.xxs]},[".current-theme-pair.__jsx-style-dynamic-selector{position:absolute;right:".concat(j.a.spacing.xxs,";top:calc(50% - 1rem);}"),"html[dir='rtl'] .current-theme-pair.__jsx-style-dynamic-selector{right:unset;left:".concat(j.a.spacing.xxs,";}")]),className:u.a.dynamic([["719470964",[j.a.spacing.xxs,j.a.spacing.xxs]]])},t=Object(L.c)(a.props.selectedThemeId);return J("div",null,J(P.a,{fullWidth:!0},Object.keys(a.fontPairings).map((function(o){var n=a.fontPairings[o];return J(P.a.Item,{key:o,onClick:n.onClick,maxHeight:"none"},a.renderFontPair(n.titleFont,n.bodyFont,!0),t.defaultBaseVariables.titleFontId===n.titleFont&&t.defaultBaseVariables.bodyFontId===n.bodyFont&&J(V.a,{targetClassName:"current-theme-pair ".concat(e.className),tooltipContent:a.props.intl.formatMessage({id:"builder.designPanel.fontPairings.themePairTooltip"}),placement:"left"},J(Z.a,{height:j.a.spacing.xxs,width:"auto",color:j.a.color.coolGrey})))}))),e.styles)})),Object(l.a)(Object(s.a)(a),"renderFontPair",(function(a,e,t){var o=U.a[a],n=U.a[e];return J("span",{className:u.a.dynamic([["1548632104",[t?j.a.spacing.xs:0,j.a.color.darkGreen,O.a.center(),t?j.a.spacing.xs:0,o.family,o.variableDefaults.titleWeight,j.a.font.weight.bold,j.a.spacing.xxxs,n.family,n.variableDefaults.bodyWeight]]])+" font-pair"},J("span",{className:u.a.dynamic([["1548632104",[t?j.a.spacing.xs:0,j.a.color.darkGreen,O.a.center(),t?j.a.spacing.xs:0,o.family,o.variableDefaults.titleWeight,j.a.font.weight.bold,j.a.spacing.xxxs,n.family,n.variableDefaults.bodyWeight]]])+" title-font"},o.displayName),J("span",{className:u.a.dynamic([["1548632104",[t?j.a.spacing.xs:0,j.a.color.darkGreen,O.a.center(),t?j.a.spacing.xs:0,o.family,o.variableDefaults.titleWeight,j.a.font.weight.bold,j.a.spacing.xxxs,n.family,n.variableDefaults.bodyWeight]]])+" separator"},"+"),J("span",{className:u.a.dynamic([["1548632104",[t?j.a.spacing.xs:0,j.a.color.darkGreen,O.a.center(),t?j.a.spacing.xs:0,o.family,o.variableDefaults.titleWeight,j.a.font.weight.bold,j.a.spacing.xxxs,n.family,n.variableDefaults.bodyWeight]]])+" body-font"},n.displayName),J(u.a,{id:"1548632104",dynamic:[t?j.a.spacing.xs:0,j.a.color.darkGreen,O.a.center(),t?j.a.spacing.xs:0,o.family,o.variableDefaults.titleWeight,j.a.font.weight.bold,j.a.spacing.xxxs,n.family,n.variableDefaults.bodyWeight]},[".font-pair.__jsx-style-dynamic-selector{display:block;margin-right:".concat(t?j.a.spacing.xs:0,";color:").concat(j.a.color.darkGreen,";").concat(O.a.center(),";}"),"html[dir='rtl'] .font-pair.__jsx-style-dynamic-selector{margin:0 0 0 ".concat(t?j.a.spacing.xs:0,";}"),".title-font.__jsx-style-dynamic-selector{font-family:".concat(o.family,";font-weight:").concat(o.variableDefaults.titleWeight,";font-size:1.6rem;vertical-align:middle;}"),".separator.__jsx-style-dynamic-selector{font-size:1.1rem;font-weight:".concat(j.a.font.weight.bold,";margin:0 ").concat(j.a.spacing.xxxs,";vertical-align:middle;}"),".body-font.__jsx-style-dynamic-selector{font-family:".concat(n.family,";font-weight:").concat(n.variableDefaults.bodyWeight,";font-size:1.4rem;vertical-align:middle;}")]))})),Object(l.a)(Object(s.a)(a),"onFontPairSelect",(function(e,t){a.props.themeVariables.titleFontId===e&&a.props.themeVariables.bodyFontId===t||(a.props.onThemeBaseVariablesOverridesChange({titleFontId:e,bodyFontId:t}),G.a.trackEvent(G.a.Category.Builder,"".concat(G.a.Action.Builder_DesignPanel_ThemeBaseVariable,"_fontPair"),"title_".concat(e,"__body_").concat(t)))})),a}return Object(n.a)(d,[{key:"render",value:function(){var a={styles:J(u.a,{id:"441414401",dynamic:[this.state.dropdownWidth]},[".dropdown-container.__jsx-style-dynamic-selector{width:".concat(this.state.dropdownWidth,"px;}")]),className:u.a.dynamic([["441414401",[this.state.dropdownWidth]]])};return J("div",{className:"jsx-1434277815 font-pairing"},J(B.a,{target:this.renderDropdownTarget(),popper:this.renderDropdown(),placement:"bottom-start",maxWidth:"none",onShow:this.updateDropdownWidth,className:a.className}),a.styles,J(u.a,{id:"1434277815"},[".font-pairing.jsx-1434277815{position:relative;}"]))}}]),d}(p.PureComponent),q=Object(f.c)(Y),K=t("VtSi"),X=t.n(K),$=t("RNvQ"),aa=t.n($),ea=t("60Hg"),ta=t("Pmyh"),oa=t("Lri9"),na=t("2gSQ"),sa=t("cuUk"),ra=t("KO1s"),ia=d.a.createElement;function ca(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var la=function(a){Object(c.a)(d,a);var e,t=(e=d,function(){var a,t=Object(i.a)(e);if(ca()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function d(a){var e;return Object(o.a)(this,d),e=t.call(this,a),Object(l.a)(Object(s.a)(e),"updateLogoLink",aa()((function(){e.props.onLogoLinkChange(e.state.link)}),300)),Object(l.a)(Object(s.a)(e),"updateLogoAlt",aa()((function(){e.props.onLogoAltTextChange(e.state.alt)}),300)),Object(l.a)(Object(s.a)(e),"textInputStyles",{styles:ia(u.a,{id:"2105961932",dynamic:[j.a.spacing.xxxs]},["input.__jsx-style-dynamic-selector{min-height:4rem;margin-top:".concat(j.a.spacing.xxxs,";}")]),className:u.a.dynamic([["2105961932",[j.a.spacing.xxxs]]])}),Object(l.a)(Object(s.a)(e),"renderFilePicker",(function(a,t,o,n,s,r){var i={styles:ia(u.a,{id:"1295457774",dynamic:[j.a.spacing.xxxs,j.a.spacing.xxs,j.a.spacing.xxs]},[".remove-tooltip.__jsx-style-dynamic-selector{position:absolute;top:calc(50% - ".concat(j.a.spacing.xxxs,");right:").concat(j.a.spacing.xxs,";}"),"html[dir='rtl'] .remove-tooltip.__jsx-style-dynamic-selector{right:unset;left:".concat(j.a.spacing.xxs,";}")]),className:u.a.dynamic([["1295457774",[j.a.spacing.xxxs,j.a.spacing.xxs,j.a.spacing.xxs]]])},c={styles:ia(u.a,{id:"1504888522",dynamic:[j.a.spacing.xxxs]},[".error-tooltip.__jsx-style-dynamic-selector::after{content:'';margin-right:".concat(j.a.spacing.xxxs,";}")]),className:u.a.dynamic([["1504888522",[j.a.spacing.xxxs]]])},l=e.props.storyContext.storyLogo&&e.props.storyContext.storyLogo.src;return ia("div",{onDrop:t,onDragOver:o,onDragLeave:n,onDragEnd:n,className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" upload-container"},ia("button",{type:"button",onClick:a,className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" "+(v()("upload-btn",r&&"dragging")||"")},ia("span",{className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" file-picker-content"},ia("span",{className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" upload-text"},ia(b.a,{id:"builder.designPanel.logo.placeholder"})),ia("span",{className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" icons"},e.state.hasImageError&&ia(V.a,{className:"error-tooltip ".concat(c.className),placement:"left",tooltipContent:e.props.intl.formatMessage({id:"builder.designPanel.logo.errorTooltip"})},ia(D.a,{height:j.a.spacing.xxs,width:"auto",color:j.a.color.alertRed})),ia("span",{className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" plus-icon-wrapper"},ia(ea.a,{height:j.a.spacing.xxs,width:"auto",color:j.a.color.cadet})))),l&&ia("div",{className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" logo-preview"})),l&&ia(V.a,{targetClassName:"remove-tooltip ".concat(i.className),placement:"left",tooltipContent:e.props.intl.formatMessage({id:"builder.common.delete"})},ia("button",{type:"button",onClick:e.removeLogo,"aria-label":e.props.intl.formatMessage({id:"builder.common.delete"}),className:u.a.dynamic([["969278432",[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]]])+" remove-btn"},ia(ta.a,{height:j.a.spacing.xxs,width:"auto",color:j.a.color.cadet}))),c.styles,i.styles,ia(u.a,{id:"969278432",dynamic:[j.a.font.size.small,O.a.hexA(j.a.color.darkGreen,.5),j.a.color.antiFlashWhite,j.a.spacing.xxxs,j.a.spacing.xxs,j.a.color.emeraldGreen,l?"hidden":"visible",j.a.spacing.xxxs,l,j.a.spacing.xxxs,j.a.spacing.xxxxs,j.a.spacing.xxxs,j.a.spacing.xxxs]},[".upload-container.__jsx-style-dynamic-selector{position:relative;}",".upload-btn.__jsx-style-dynamic-selector{position:relative;min-height:4rem;font-size:".concat(j.a.font.size.small,";color:").concat(O.a.hexA(j.a.color.darkGreen,.5),";background-color:").concat(j.a.color.antiFlashWhite,";padding:").concat(j.a.spacing.xxxs," ").concat(j.a.spacing.xxs,";width:100%;text-align:left;}"),".upload-btn.dragging.__jsx-style-dynamic-selector{box-shadow:0 0 1px ".concat(j.a.color.emeraldGreen,";}"),".file-picker-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".upload-text.__jsx-style-dynamic-selector,.plus-icon-wrapper.__jsx-style-dynamic-selector{visibility:".concat(l?"hidden":"visible",";}"),".icons.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".icons.__jsx-style-dynamic-selector::before{content:'';margin-right:".concat(j.a.spacing.xxxs,";}"),".logo-preview.__jsx-style-dynamic-selector{position:absolute;background-image:url(".concat(l,");background-repeat:no-repeat;background-size:contain;background-position:center left;height:calc(100% - ").concat(j.a.spacing.xxxs,");width:calc(100% - 6rem);top:").concat(j.a.spacing.xxxxs,";left:").concat(j.a.spacing.xxxs,";}"),"html[dir='rtl'] .logo-preview.__jsx-style-dynamic-selector{left:unset;right:".concat(j.a.spacing.xxxs,";background-position:center right;}")]))})),Object(l.a)(Object(s.a)(e),"onLogoFilePick",(function(a){var t,o;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setState({hasImageError:!1}),n.prev=1,n.next=4,X.a.awrap(Object(sa.e)(a,"image"));case 4:return t=n.sent,n.next=7,X.a.awrap(Object(sa.f)(t));case 7:return o=n.sent,(!/image\/png/.test(t.toLowerCase())||o.height<80)&&e.setState({hasImageError:!0}),e.props.updateLogoResource(o),n.next=12,X.a.awrap(e.uploadLogo(o,a));case 12:G.a.trackEvent(G.a.Category.Builder,G.a.Action.Builder_DesignPanel_ChangeStoryLogo),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(1),e.props.toast.add({type:"error",title:e.props.intl.formatMessage({id:"builder.common.sorry"}),details:e.props.intl.formatMessage({id:"builder.image.uploadFailDescription"})}),e.setState({hasImageError:!0});case 19:case"end":return n.stop()}}),null,null,[[1,15]],Promise)})),Object(l.a)(Object(s.a)(e),"uploadLogo",(function(a,t){var o;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(Date.now().toString(),".").concat(t.type.slice(t.type.indexOf("/")+1)),n.next=3,X.a.awrap(e.props.storyItem.upsertItemResource({isAdd:!0,resource:t,resourceName:o}));case 3:e.props.updateLogoResource({provider:"item-resource",resourceId:o,height:a.height,width:a.width});case 4:case"end":return n.stop()}}),null,null,null,Promise)})),Object(l.a)(Object(s.a)(e),"removeLogo",(function(a){e.setState({hasImageError:!1}),e.props.updateLogoResource("remove")})),Object(l.a)(Object(s.a)(e),"onLogoLinkChange",(function(a){var t=a.currentTarget.value;if(t&&t.length>3){var o=/^\/\//.test(t)?"https:".concat(t):t.replace(/^(?!http.*$).*/,(function(a){return"https://".concat(a)}));t!==o&&(a.currentTarget.value=o),e.setState({link:t!==o?o:t},e.updateLogoLink)}else t?e.setState({link:t},e.updateLogoLink):e.setState({link:""},e.updateLogoLink)})),Object(l.a)(Object(s.a)(e),"onLogoAltTextChange",(function(a){e.setState({alt:a.currentTarget.value},e.updateLogoAlt)})),e.state={link:e.props.storyContext.storyLogo&&e.props.storyContext.storyLogo.link?e.props.storyContext.storyLogo.link:"",alt:e.props.storyContext.storyLogo&&e.props.storyContext.storyLogo.alt?e.props.storyContext.storyLogo.alt:""},e}return Object(n.a)(d,[{key:"render",value:function(){var a=this.props.storyContext.storyLogo&&this.props.storyContext.storyLogo.src;return ia("div",{key:"designPanel_logo",className:u.a.dynamic([["301045454",[j.a.spacing.sm,j.a.color.darkGreen,O.a.typography.body14(),O.a.typography.body12(),j.a.color.cadet,j.a.spacing.xxxs]]])+" logo"},ia(oa.a,{accept:sa.b.join(", "),onPick:this.onLogoFilePick,render:this.renderFilePicker}),!!a&&ia(p.Fragment,null,ia("label",{className:u.a.dynamic([["301045454",[j.a.spacing.sm,j.a.color.darkGreen,O.a.typography.body14(),O.a.typography.body12(),j.a.color.cadet,j.a.spacing.xxxs]]])},ia("span",{className:u.a.dynamic([["301045454",[j.a.spacing.sm,j.a.color.darkGreen,O.a.typography.body14(),O.a.typography.body12(),j.a.color.cadet,j.a.spacing.xxxs]]])+" label-text"},ia(b.a,{id:"builder.designPanel.logo.linkLabel"})),ia(T.a,{className:this.textInputStyles.className,key:"logoControl_linkInput",type:"url",placeholder:"https://example.com",value:this.state.link,onChange:this.onLogoLinkChange})),ia("label",{className:u.a.dynamic([["301045454",[j.a.spacing.sm,j.a.color.darkGreen,O.a.typography.body14(),O.a.typography.body12(),j.a.color.cadet,j.a.spacing.xxxs]]])},ia("span",{className:u.a.dynamic([["301045454",[j.a.spacing.sm,j.a.color.darkGreen,O.a.typography.body14(),O.a.typography.body12(),j.a.color.cadet,j.a.spacing.xxxs]]])+" label-text"},ia(b.a,{id:"builder.designPanel.logo.linkAltTextLabel"})),ia(T.a,{className:this.textInputStyles.className,key:"logoControl_altInput",type:"text",value:this.state.alt,onChange:this.onLogoAltTextChange})),ia("p",{className:u.a.dynamic([["301045454",[j.a.spacing.sm,j.a.color.darkGreen,O.a.typography.body14(),O.a.typography.body12(),j.a.color.cadet,j.a.spacing.xxxs]]])+" alt-text-description"},ia(b.a,{id:"builder.designPanel.logo.linkAltTextLabel.description"}))),this.textInputStyles.styles,ia(u.a,{id:"301045454",dynamic:[j.a.spacing.sm,j.a.color.darkGreen,O.a.typography.body14(),O.a.typography.body12(),j.a.color.cadet,j.a.spacing.xxxs]},["label.__jsx-style-dynamic-selector{display:block;margin-top:".concat(j.a.spacing.sm,";color:").concat(j.a.color.darkGreen,";").concat(O.a.typography.body14(),";}"),".alt-text-description.__jsx-style-dynamic-selector{".concat(O.a.typography.body12(),";color:").concat(j.a.color.cadet,";margin-top:").concat(j.a.spacing.xxxs,";}")]))}}]),d}(p.PureComponent),pa=Object(na.a)(Object(f.c)(Object(ra.a)(la))),da=t("oajM"),ga=d.a.createElement,xa=Object(f.c)((function(a){var e="theme-control-".concat(a.themeConfig.themeId),t=Object(da.b)(a.themeConfig.themeVariables.titleFontId,"title",0);return ga(V.a,{tooltipContent:a.intl.formatMessage({id:a.disabled?"publicAccount.disabled":"builder.designPanel.themes.".concat(a.themeConfig.themeId,".tooltip")})},ga("label",{htmlFor:e,className:u.a.dynamic([["400216220",[a.themeConfig.themeVariables.backgroundColor,a.themeConfig.themeVariables.titleColor,t({skip:["line-height"]}),j.a.color.emeraldGreen,a.disabled?"0.4":"initial",O.a.center(),O.a.screenReaderOnly(),j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])},ga("input",{id:e,name:"design-panel-theme-control",type:"radio",checked:a.isChecked,"aria-checked":a.isChecked,value:a.themeConfig.themeId,onChange:a.onChange,disabled:a.disabled,className:u.a.dynamic([["400216220",[a.themeConfig.themeVariables.backgroundColor,a.themeConfig.themeVariables.titleColor,t({skip:["line-height"]}),j.a.color.emeraldGreen,a.disabled?"0.4":"initial",O.a.center(),O.a.screenReaderOnly(),j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])}),ga("span",{className:u.a.dynamic([["400216220",[a.themeConfig.themeVariables.backgroundColor,a.themeConfig.themeVariables.titleColor,t({skip:["line-height"]}),j.a.color.emeraldGreen,a.disabled?"0.4":"initial",O.a.center(),O.a.screenReaderOnly(),j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])+" theme-control"},ga(b.a,{id:a.themeConfig.strings.themeName})),ga(u.a,{id:"400216220",dynamic:[a.themeConfig.themeVariables.backgroundColor,a.themeConfig.themeVariables.titleColor,t({skip:["line-height"]}),j.a.color.emeraldGreen,a.disabled?"0.4":"initial",O.a.center(),O.a.screenReaderOnly(),j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]},[".theme-control.__jsx-style-dynamic-selector{background-color:".concat(a.themeConfig.themeVariables.backgroundColor,";color:").concat(a.themeConfig.themeVariables.titleColor,";").concat(t({skip:["line-height"]}),";width:100%;height:5.6rem;border:1px solid ").concat(j.a.color.emeraldGreen,";cursor:pointer;opacity:").concat(a.disabled?"0.4":"initial",";").concat(O.a.center(),";}"),"input[type='radio'].__jsx-style-dynamic-selector{".concat(O.a.screenReaderOnly(),";}"),"input[type='radio'].__jsx-style-dynamic-selector:checked+.theme-control.__jsx-style-dynamic-selector{border:2px solid ".concat(j.a.color.emeraldGreen,";}"),"body.user-is-tabbing input.__jsx-style-dynamic-selector:focus+.theme-control.__jsx-style-dynamic-selector{".concat(O.a.focusRing(),";outline-color:").concat(a.themeVariables.accentColor1,";}")])))})),ha=d.a.createElement,ya=function(a){var e=function(e){a.onThemeChange(e.currentTarget.value),G.a.trackEvent(G.a.Category.Builder,G.a.Action.Builder_DesignPanel_ChangeStoryTheme,e.currentTarget.value)};return ha("div",{className:u.a.dynamic([["2022168933",[j.a.spacing.xxs,j.a.spacing.xxs]]])+" container"},L.a.map((function(t,o){var n=t.themeId===a.selectedThemeId;return ha(xa,{key:t.themeId,themeConfig:t,isChecked:n,onChange:e,themeVariables:a.themeVariables,disabled:!a.canCustomize&&o>3})})),ha(u.a,{id:"2022168933",dynamic:[j.a.spacing.xxs,j.a.spacing.xxs]},[".container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:".concat(j.a.spacing.xxs,";grid-row-gap:").concat(j.a.spacing.xxs,";}")]))},ma=t("MEC2");function ua(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var ba=function(a){Object(c.a)(n,a);var e,t=(e=n,function(){var a,t=Object(i.a)(e);if(ua()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function n(a){Object(o.a)(this,n);return t.call(this,a,{iconName:"cover-full",path:"M0,1 L16,1 L16,15 L0,15 L0,1 Z M15,14 L15,2 L1,2 L1,14 L15,14 Z M3,12 L3,4 L13,4 L13,12 L3,12 Z",viewBox:"0 0 16 16"})}return n}(ma.a);function fa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var ka=function(a){Object(c.a)(n,a);var e,t=(e=n,function(){var a,t=Object(i.a)(e);if(fa()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function n(a){Object(o.a)(this,n);return t.call(this,a,{iconName:"cover-side-by-side",path:"M1.0658141e-14,0 L21,0 L21,18 L1.0658141e-14,18 L1.0658141e-14,0 Z M10,17 L10,1 L1,1 L1,17 L10,17 Z M20,17 L20,1 L11,1 L11,17 L20,17 Z M2,8 L2,6 L9,6 L9,8 L2,8 Z M2,12 L2,10 L7,10 L7,12 L2,12 Z",viewBox:"0 0 21 18"})}return n}(ma.a);function va(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var Ca=function(a){Object(c.a)(n,a);var e,t=(e=n,function(){var a,t=Object(i.a)(e);if(va()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function n(a){Object(o.a)(this,n);return t.call(this,a,{iconName:"cover-minimal",path:"M0,0 L21,0 L21,18 L0,18 L0,0 Z M20,17 L20,1 L1,1 L1,17 L20,17 Z M5,8 L5,6 L15,6 L15,8 L5,8 Z M5,12 L5,10 L12,10 L12,12 L5,12 Z",viewBox:"0 0 21 18"})}return n}(ma.a),ja=d.a.createElement,Oa=[{id:"full",tooltipStringId:"builder.designPanel.coverFull",icon:ba},{id:"sidebyside",tooltipStringId:"builder.designPanel.coverSideBySide",icon:ka},{id:"minimal",tooltipStringId:"builder.designPanel.coverMinimal",icon:Ca}],wa=Object(f.c)((function(a){var e=function(e){a.onCoverChange(e.currentTarget.value),G.a.trackEvent(G.a.Category.Builder,G.a.Action.Builder_DesignPanel_ChangeStoryCover,e.currentTarget.value)};return ja("div",{className:u.a.dynamic([["743378099",[j.a.spacing.xxs,j.a.spacing.xxs,O.a.screenReaderOnly(),O.a.center(),j.a.color.emeraldGreen,j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])+" container"},Oa.map((function(t){var o=t.id===a.selectedCoverId,n="cover-control-".concat(t.id);return ja(V.a,{key:t.id,tooltipContent:a.intl.formatMessage({id:t.tooltipStringId})},ja("label",{htmlFor:n,className:u.a.dynamic([["743378099",[j.a.spacing.xxs,j.a.spacing.xxs,O.a.screenReaderOnly(),O.a.center(),j.a.color.emeraldGreen,j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])},ja("input",{id:n,name:"design-panel-cover-control",type:"radio",checked:o,"aria-checked":o,value:t.id,onChange:e,className:u.a.dynamic([["743378099",[j.a.spacing.xxs,j.a.spacing.xxs,O.a.screenReaderOnly(),O.a.center(),j.a.color.emeraldGreen,j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])}),ja("span",{className:u.a.dynamic([["743378099",[j.a.spacing.xxs,j.a.spacing.xxs,O.a.screenReaderOnly(),O.a.center(),j.a.color.emeraldGreen,j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])+" theme-control"},ja(t.icon,{height:"1.4rem",width:"auto",color:j.a.color.haikuBlack})),ja("span",{className:u.a.dynamic([["743378099",[j.a.spacing.xxs,j.a.spacing.xxs,O.a.screenReaderOnly(),O.a.center(),j.a.color.emeraldGreen,j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]]])+" sr-only"},ja(b.a,{id:t.tooltipStringId}))))})),ja(u.a,{id:"743378099",dynamic:[j.a.spacing.xxs,j.a.spacing.xxs,O.a.screenReaderOnly(),O.a.center(),j.a.color.emeraldGreen,j.a.color.emeraldGreen,O.a.focusRing(),a.themeVariables.accentColor1]},[".container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:".concat(j.a.spacing.xxs,";grid-row-gap:").concat(j.a.spacing.xxs,";}"),"input[type='radio'].__jsx-style-dynamic-selector,.sr-only.__jsx-style-dynamic-selector{".concat(O.a.screenReaderOnly(),";}"),".theme-control.__jsx-style-dynamic-selector{width:100%;height:4rem;".concat(O.a.center()," border:1px solid ").concat(j.a.color.emeraldGreen,";cursor:pointer;}"),"input[type='radio'].__jsx-style-dynamic-selector:checked+.theme-control.__jsx-style-dynamic-selector{border:2px solid ".concat(j.a.color.emeraldGreen,";}"),"body.user-is-tabbing input.__jsx-style-dynamic-selector:focus+.theme-control.__jsx-style-dynamic-selector{".concat(O.a.focusRing()," outline-color:").concat(a.themeVariables.accentColor1,";}")]))})),_a=t("9ixP"),La=d.a.createElement;function Na(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var Ra=function(a){Object(c.a)(d,a);var e,t=(e=d,function(){var a,t=Object(i.a)(e);if(Na()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function d(){var a;Object(o.a)(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n)),Object(l.a)(Object(s.a)(a),"toggleCredits",(function(){a.props.onCreditsToggle()})),a}return Object(n.a)(d,[{key:"render",value:function(){var a={styles:La(u.a,{id:"3628322595",dynamic:[O.a.typography.body14(),O.a.focusRing(),this.props.themeVariables.accentColor1]},[".labeled-switch.__jsx-style-dynamic-selector{".concat(O.a.typography.body14(),";}"),"body.user-is-tabbing .labeled-switch.__jsx-style-dynamic-selector .switch:focus-within{".concat(O.a.focusRing()," outline-color:").concat(this.props.themeVariables.accentColor1,";}")]),className:u.a.dynamic([["3628322595",[O.a.typography.body14(),O.a.focusRing(),this.props.themeVariables.accentColor1]]])};return La(p.Fragment,null,La(_a.a.LabeledSwitch,{labelColor:j.a.color.darkGreen,switch:La(_a.a,{isOn:!this.props.isCreditsHidden,onToggle:this.toggleCredits}),label:La("div",{className:u.a.dynamic([["3975022947",[j.a.spacing.xxxs]]])+" credits-section"},La(b.a,{id:"builder.credits.title"}),La("span",{className:u.a.dynamic([["3975022947",[j.a.spacing.xxxs]]])+" info-icon"},La(V.a,{tooltipContent:this.props.intl.formatMessage({id:"builder.credits.toggleSwitch.tooltip"})},La(S.a,{color:j.a.color.deepLilac})))),className:a.className}),a.styles,La(u.a,{id:"3975022947",dynamic:[j.a.spacing.xxxs]},[".credits-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".info-icon.__jsx-style-dynamic-selector{margin:0 ".concat(j.a.spacing.xxxs,";line-height:0;}")]))}}]),d}(p.PureComponent),Ga=Object(f.c)(Ra),Pa=d.a.createElement;function Va(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var Sa=function(a){Object(c.a)(d,a);var e,t=(e=d,function(){var a,t=Object(i.a)(e);if(Va()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function d(){var a;Object(o.a)(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n)),Object(l.a)(Object(s.a)(a),"toggleLabelStyles",{styles:Pa(u.a,{id:"1743596795",dynamic:[O.a.typography.body14()]},[".labeled-switch.__jsx-style-dynamic-selector{".concat(O.a.typography.body14(),";}")]),className:u.a.dynamic([["1743596795",[O.a.typography.body14()]]])}),Object(l.a)(Object(s.a)(a),"toggleNavigation",(function(){a.props.onNavigationToggle()})),a}return Object(n.a)(d,[{key:"render",value:function(){return Pa(p.Fragment,null,Pa(_a.a.LabeledSwitch,{labelColor:j.a.color.darkGreen,switch:Pa(_a.a,{isOn:!this.props.isNavigationHidden,onToggle:this.toggleNavigation}),label:Pa("div",{className:u.a.dynamic([["931466503",[j.a.spacing.xxxs]]])+" navigation-section"},Pa(b.a,{id:"builder.storyNavigation.title.short"}),Pa("span",{className:u.a.dynamic([["931466503",[j.a.spacing.xxxs]]])+" info-icon"},Pa(V.a,{tooltipContent:this.props.intl.formatMessage({id:"builder.navigation.toggleSwitch.tooltip"})},Pa(S.a,{color:j.a.color.deepLilac})))),className:this.toggleLabelStyles.className}),this.toggleLabelStyles.styles,Pa(u.a,{id:"931466503",dynamic:[j.a.spacing.xxxs]},[".navigation-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".info-icon.__jsx-style-dynamic-selector{margin:0 ".concat(j.a.spacing.xxxs,";line-height:0;}")]))}}]),d}(p.PureComponent),Ta=Object(f.c)(Sa),Da=d.a.createElement;function Ba(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var Fa=function(a){Object(c.a)(d,a);var e,t=(e=d,function(){var a,t=Object(i.a)(e);if(Ba()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function d(){var a;Object(o.a)(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n)),Object(l.a)(Object(s.a)(a),"onClose",(function(e){e&&Object(C.a)(e)&&(e.stopPropagation(),a.props.onClose())})),a}return Object(n.a)(d,[{key:"render",value:function(){var a=this,e=this.props.storyItem.storyMapUserPrivileges.canCustomizeProductBranding;return Da(p.Fragment,null,Da("div",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" design-panel"},Da("button",{type:"button",onClick:this.onClose,title:this.props.intl.formatMessage({id:"common.close"}),className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" close-btn"},Da(w.a,{height:"2rem",width:"2rem",color:j.a.color.haikuBlack})),Da("h2",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" title"},Da(b.a,{id:"common.design"})),Da("p",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" subtitle"},Da(b.a,{id:"builder.designPanel.subtitle"})),Da("h3",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" section-heading"},Da(b.a,{id:"builder.designPanel.sectionHeader.cover"})),Da(wa,{onCoverChange:this.props.onCoverChange,selectedCoverId:this.props.selectedCoverId,themeVariables:this.props.themeVariables}),Da("h3",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" section-heading"},Da(b.a,{id:"builder.designPanel.sectionHeader.optionalStorySections"})),Da(Ta,{isNavigationHidden:this.props.isNavigationHidden,onNavigationToggle:this.props.onNavigationToggle}),Da(Ga,{isCreditsHidden:this.props.isCreditsHidden,onCreditsToggle:this.props.onCreditsToggle,themeVariables:this.props.themeVariables}),Da("h3",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" section-heading"},Da(b.a,{id:"builder.designPanel.sectionHeader.theme"})),Da(ya,{onThemeChange:this.props.onThemeChange,selectedThemeId:this.props.selectedThemeId,themeVariables:this.props.themeVariables,canCustomize:e}),Da("h3",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" section-heading"},Da(b.a,{id:"builder.designPanel.sectionHeader.customize"})),!e&&Da(_.a,{size:"small",body:Da("p",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])},Da(b.a,{id:"publicAccount.disabled.link",values:{"product-doc":function(a){return Da("a",{href:"https://storymaps.arcgis.com/redirect/pricing",target:"_blank",rel:"noopener noreferrer",className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])},a)}}}))}),Da("div",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" "+(v()("customize-section",!e&&"disabled")||"")},Da("h5",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" section-subheading"},Da(b.a,{id:"builder.designPanel.sectionHeader.color"})),Da(E,{themeVariables:this.props.themeVariables,themeBaseVariableOverrides:this.props.themeBaseVariableOverrides,onThemeBaseVariablesOverridesChange:this.props.onThemeBaseVariablesOverridesChange}),Da("h5",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" section-subheading"},Da(b.a,{id:"builder.designPanel.sectionHeader.fontPairings"})),Da(q,{selectedThemeId:this.props.selectedThemeId,themeVariables:this.props.themeVariables,themeBaseVariableOverrides:this.props.themeBaseVariableOverrides,onThemeBaseVariablesOverridesChange:this.props.onThemeBaseVariablesOverridesChange}),Da("h5",{className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])+" section-subheading"},Da(b.a,{id:"builder.designPanel.sectionHeader.logo"})),Da(pa,{isDesignPanelOpen:this.props.isDesignPanelOpen,storyItem:this.props.storyItem,updateLogoResource:this.props.updateLogoResource,onLogoLinkChange:this.props.onLogoLinkChange,onLogoAltTextChange:this.props.onLogoAltTextChange}))),Object.keys(L.b).map((function(e){var t=L.b[e];return Da(t,{baseUrl:a.props.config.BASE_URL,key:e,className:u.a.dynamic([["1068427396",[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]]])})})),Da(u.a,{id:"1068427396",dynamic:[j.a.spacing.xs,j.a.color.white,O.a.typography.h2(),j.a.color.haikuBlack,j.a.spacing.sm,j.a.spacing.xxxs,O.a.typography.body14(),j.a.color.cadet,O.a.typography.h3(),j.a.color.darkGreen,j.a.spacing.xl,j.a.spacing.xxs,O.a.typography.h5(),j.a.color.darkGreen,j.a.spacing.sm,j.a.spacing.xxs]},[".design-panel.__jsx-style-dynamic-selector{width:100%;right:0;padding:".concat(j.a.spacing.xs,";background-color:").concat(j.a.color.white,";overflow-wrap:break-word;}"),"html[dir='rtl'] .design-panel.__jsx-style-dynamic-selector{right:unset;left:0;}",".close-btn.__jsx-style-dynamic-selector{float:right;padding:1rem;margin:-1rem;cursor:pointer;}","html[dir='rtl'] .close-btn.__jsx-style-dynamic-selector{float:left;}",".title.__jsx-style-dynamic-selector{".concat(O.a.typography.h2(),";color:").concat(j.a.color.haikuBlack,";margin:").concat(j.a.spacing.sm," 0 ").concat(j.a.spacing.xxxs,";}"),".subtitle.__jsx-style-dynamic-selector{".concat(O.a.typography.body14(),";color:").concat(j.a.color.cadet,";}"),".section-heading.__jsx-style-dynamic-selector{".concat(O.a.typography.h3(),";color:").concat(j.a.color.darkGreen,";margin:").concat(j.a.spacing.xl," 0 ").concat(j.a.spacing.xxs,";}"),".section-subheading.__jsx-style-dynamic-selector{".concat(O.a.typography.h5(),";color:").concat(j.a.color.darkGreen,";margin:").concat(j.a.spacing.sm," 0 ").concat(j.a.spacing.xxs,";}"),".disabled.__jsx-style-dynamic-selector{pointer-events:none;opacity:0.4;}"]))}}]),d}(p.PureComponent),Ia=Object(g.c)(Object(N.b)(Object(f.c)(Object(R.b)(Fa)))),Aa=t("UTGL"),Wa=t("IXx0"),Ma=d.a.createElement;function Ha(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}var Ea=function(a){Object(c.a)(g,a);var e,t=(e=g,function(){var a,t=Object(i.a)(e);if(Ha()){var o=Object(i.a)(this).constructor;a=Reflect.construct(t,arguments,o)}else a=t.apply(this,arguments);return Object(r.a)(this,a)});function g(){var a;Object(o.a)(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n)),Object(l.a)(Object(s.a)(a),"state",{designPanelVisible:!1}),Object(l.a)(Object(s.a)(a),"storyRef",d.a.createRef()),Object(l.a)(Object(s.a)(a),"toggleDesignPanel",(function(){a.setState({designPanelVisible:!a.state.designPanelVisible})})),Object(l.a)(Object(s.a)(a),"updateWebsiteTheme",(function(e){a.props.setTheme(Object(x.c)(e))})),Object(l.a)(Object(s.a)(a),"setRef",(function(e){a.storyRef=e})),a}return Object(n.a)(g,[{key:"render",value:function(){return Ma(p.Fragment,null,Ma(y.default,{blockId:this.props.blockId,setRef:this.setRef,themeVariables:this.props.themeVariables,storyLogo:this.props.storyLogo,isCreditsHidden:this.props.isCreditsHidden,shouldHaveBottomSpacing:this.props.isCreditsHidden,isNavigationHidden:this.props.isNavigationHidden},this.props.children),Ma(h.a,{isOpen:this.state.designPanelVisible,onRequestClose:this.toggleDesignPanel,width:"41.7rem",position:"right",lockScroll:!1,offsetTop:this.props.appOffset.top,useInvisibleOverlay:!0},Ma(Ia,{isDesignPanelOpen:this.state.designPanelVisible,selectedThemeId:this.props.storyTheme.themeId,onThemeChange:this.props.updateStoryTheme,selectedCoverId:this.props.storyCover,onCoverChange:this.props.updateStoryCover,themeVariables:this.props.themeVariables,themeBaseVariableOverrides:this.props.themeBaseVariableOverrides,onThemeBaseVariablesOverridesChange:this.props.updateThemeBaseVariableOverrides,updateLogoResource:this.props.updateLogoResource,onLogoLinkChange:this.props.updateLogoLink,onLogoAltTextChange:this.props.updateLogoAltText,onClose:this.toggleDesignPanel,isCreditsHidden:this.props.isCreditsHidden,onCreditsToggle:this.props.toggleCredits,isNavigationHidden:this.props.isNavigationHidden,onNavigationToggle:this.props.toggleNavigation})),Ma(Aa.a,{baseUrl:this.props.config.BASE_URL}))}},{key:"componentDidMount",value:function(){"function"===typeof this.props.storyContext.updateStoryContext&&this.props.storyContext.updateStoryContext({toggleDesignPanelHook:this.toggleDesignPanel}),"function"===typeof this.props.handleDragDrop&&this.storyRef.current&&(this.dragDropGroup=Object(Wa.a)({element:this.storyRef.current,draggableItemSelector:".layout-wrapper",handleSelector:".dnd-handle",ghostClass:"dnd-ghost-block",dragClass:"dnd-drag-block",id:"story-sort-group",groupsToDropFrom:["story-sort-group","float-sort-group"],handler:this.props.handleDragDrop,setDataHandler:this.props.handleSetData,onMoveHandler:this.props.handleOnMove,shouldUseInvertedSwapZones:!0}))}},{key:"componentWillUnmount",value:function(){this.dragDropGroup&&"function"===typeof this.dragDropGroup.destroy&&this.dragDropGroup.destroy()}},{key:"componentDidUpdate",value:function(a){a.websiteThemeId!==this.props.websiteThemeId&&this.updateWebsiteTheme(this.props.websiteThemeId)}}]),g}(p.PureComponent);e.default=Object(g.c)(Object(x.d)(Object(ra.a)(Object(R.b)(Ea))))}}]);